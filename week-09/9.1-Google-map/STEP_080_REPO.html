
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://androidbyexample.com/week-09/9.1-Google-map/STEP_080_REPO.html">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>Current Location - Android By Example</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
  
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M0 64C0 28.65 28.65 0 64 0h160v128c0 17.7 14.3 32 32 32h128v288c0 35.3-28.7 64-64 64H64c-35.35 0-64-28.7-64-64V64zm256 64V0l128 128H256z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M0 64C0 28.65 28.65 0 64 0h160v128c0 17.7 14.3 32 32 32h128v288c0 35.3-28.7 64-64 64H64c-35.35 0-64-28.7-64-64V64zm256 64V0l128 128H256z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M0 64C0 28.65 28.65 0 64 0h160v128c0 17.7 14.3 32 32 32h128v288c0 35.3-28.7 64-64 64H64c-35.35 0-64-28.7-64-64V64zm256 64V0l128 128H256z"/></svg>');}</style>

    
    
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
<!--<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">-->

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra-7.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="Android By Example" class="md-header__button md-logo" aria-label="Android By Example" data-md-component="logo">
      
  <img src="../../android.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Android By Example
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Current Location
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
<!--    <div class="md-sidebar md-sidebar&#45;&#45;primary" data-md-component="sidebar" data-md-type="navigation">-->
<div class="md-sidebar md-sidebar--primary" data-md-type="navigation">
    <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner">
            


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="Android By Example" class="md-nav__button md-logo" aria-label="Android By Example" data-md-component="logo">
      
  <img src="../../android.png" alt="logo">

    </a>
    Android By Example
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        About This Site
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../LICENSE-Code.html" class="md-nav__link">
        Source Code License
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../LICENSE-Content.html" class="md-nav__link">
        Content License
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contact.html" class="md-nav__link">
        About Your Instructor
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Week 1  (Aug 31 - Sep 06)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 1  (Aug 31 - Sep 06)" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Week 1  (Aug 31 - Sep 06)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1">
          1.1 Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1.1 Introduction" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          1.1 Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-01/1.1-Introduction/index.html" class="md-nav__link">
        Welcome!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-01/1.1-Introduction/STEP_10_FULL.html" class="md-nav__link">
        Course Hardware and Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-01/1.1-Introduction/STEP_20_FULL.html" class="md-nav__link">
        Assignments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-01/1.1-Introduction/STEP_30_FULL.html" class="md-nav__link">
        Grading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-01/1.1-Introduction/STEP_40_FULL.html" class="md-nav__link">
        Using Third-Party and Course Sample Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          1.2 Android studio
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1.2 Android studio" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          1.2 Android studio
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-01/1.2-Android-studio/index.html" class="md-nav__link">
        Android Studio
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_3">
          1.3 Activities
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1.3 Activities" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          1.3 Activities
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-01/1.3-Activities/index.html" class="md-nav__link">
        Activities and Application Structure Overview
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Week 2  (Sep 07 - Sep 13)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 2  (Sep 07 - Sep 13)" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Week 2  (Sep 07 - Sep 13)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_1" type="checkbox" id="__nav_6_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_1">
          2.1 Kotlin primer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2.1 Kotlin primer" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          2.1 Kotlin primer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-02/2.1-Kotlin-primer/index.html" class="md-nav__link">
        Kotlin Primer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_2">
          2.2 Versions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2.2 Versions" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          2.2 Versions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-02/2.2-Versions/index.html" class="md-nav__link">
        Versions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          2.3 Architecture
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2.3 Architecture" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          2.3 Architecture
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-02/2.3-Architecture/index.html" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Week 3  (Sep 14 - Sep 20)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 3  (Sep 14 - Sep 20)" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Week 3  (Sep 14 - Sep 20)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1" type="checkbox" id="__nav_7_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_1">
          3.1 Room
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="3.1 Room" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          3.1 Room
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.1-Room/index.html" class="md-nav__link">
        Entities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.1-Room/STEP_10_FULL.html" class="md-nav__link">
        Relationships
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.1-Room/STEP_20_FULL.html" class="md-nav__link">
        Room Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.1-Room/STEP_25_FULL.html" class="md-nav__link">
        Room Relations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.1-Room/STEP_30_FULL.html" class="md-nav__link">
        Suspending Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.1-Room/STEP_40_FULL.html" class="md-nav__link">
        The Repository
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          3.2 Movie Database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="3.2 Movie Database" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          3.2 Movie Database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/index.html" class="md-nav__link">
        Movie Database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_010_REPO.html" class="md-nav__link">
        Starter Project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_020_REPO.html" class="md-nav__link">
        Update Versions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_030_REPO.html" class="md-nav__link">
        Add Data/Repository Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_040_REPO.html" class="md-nav__link">
        Add Room
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_050_REPO.html" class="md-nav__link">
        Module Dependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_060_REPO.html" class="md-nav__link">
        Entities, DAO and Database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_070_REPO.html" class="md-nav__link">
        Repository Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_080_REPO.html" class="md-nav__link">
        Sample Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_090_REPO.html" class="md-nav__link">
        Hideous UI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_100_REPO.html" class="md-nav__link">
        Rating with Movies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_110_REPO.html" class="md-nav__link">
        Refactoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-03/3.2-Movie-Database/STEP_120_FULL.html" class="md-nav__link">
        Wrap-Up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Week 4  (Sep 21 - Sep 27)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 4  (Sep 21 - Sep 27)" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Week 4  (Sep 21 - Sep 27)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_1" type="checkbox" id="__nav_8_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8_1">
          4.1 Compose basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="4.1 Compose basics" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_1">
          <span class="md-nav__icon md-icon"></span>
          4.1 Compose basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.1-Compose-basics/index.html" class="md-nav__link">
        Compose Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.1-Compose-basics/STEP_10_FULL.html" class="md-nav__link">
        Writing Composable Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.1-Compose-basics/STEP_20_FULL.html" class="md-nav__link">
        Collecting Flows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.1-Compose-basics/STEP_30_FULL.html" class="md-nav__link">
        Calling View Model Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.1-Compose-basics/STEP_40_FULL.html" class="md-nav__link">
        Calling View Model Accessors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.1-Compose-basics/STEP_50_FULL.html" class="md-nav__link">
        View Model Buckets
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2" type="checkbox" id="__nav_8_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8_2">
          4.2 Movie Ui 1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="4.2 Movie Ui 1" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_2">
          <span class="md-nav__icon md-icon"></span>
          4.2 Movie Ui 1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.2-Movie-Ui-1/index.html" class="md-nav__link">
        Movie UI, part 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.2-Movie-Ui-1/STEP_010_REPO.html" class="md-nav__link">
        Start with Movies Database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.2-Movie-Ui-1/STEP_020_REPO.html" class="md-nav__link">
        Update AGP Version
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.2-Movie-Ui-1/STEP_025_FULL.html" class="md-nav__link">
        Application Navigation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.2-Movie-Ui-1/STEP_030_REPO.html" class="md-nav__link">
        Screen State
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.2-Movie-Ui-1/STEP_040_REPO.html" class="md-nav__link">
        Basic Navigation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.2-Movie-Ui-1/STEP_050_REPO.html" class="md-nav__link">
        Actors <-> Movies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.2-Movie-Ui-1/STEP_055_FULL.html" class="md-nav__link">
        Scaffold - A Slotted API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.2-Movie-Ui-1/STEP_060_REPO.html" class="md-nav__link">
        UI From the Outside
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.2-Movie-Ui-1/STEP_070_REPO.html" class="md-nav__link">
        Copying Extended Icons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-04/4.2-Movie-Ui-1/STEP_080_FULL.html" class="md-nav__link">
        Wrap Up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Week 5  (Sep 28 - Oct 04)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 5  (Sep 28 - Oct 04)" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Week 5  (Sep 28 - Oct 04)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1" type="checkbox" id="__nav_9_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_1">
          5.1 Compose Lists
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="5.1 Compose Lists" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_1">
          <span class="md-nav__icon md-icon"></span>
          5.1 Compose Lists
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-05/5.1-Compose-Lists/index.html" class="md-nav__link">
        Compose Lists
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_2" type="checkbox" id="__nav_9_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_2">
          5.2 Movie Ui 2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="5.2 Movie Ui 2" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_2">
          <span class="md-nav__icon md-icon"></span>
          5.2 Movie Ui 2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-05/5.2-Movie-Ui-2/index.html" class="md-nav__link">
        Movie UI, part 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-05/5.2-Movie-Ui-2/STEP_010_REPO.html" class="md-nav__link">
        Start with Movies UI, Part 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-05/5.2-Movie-Ui-2/STEP_020_REPO.html" class="md-nav__link">
        Scrolling Columns and LazyList
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-05/5.2-Movie-Ui-2/STEP_030_REPO.html" class="md-nav__link">
        Cleanup the display screens
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-05/5.2-Movie-Ui-2/STEP_040_REPO.html" class="md-nav__link">
        Refactor the list screens
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-05/5.2-Movie-Ui-2/STEP_050_REPO.html" class="md-nav__link">
        Selection and Deletion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-05/5.2-Movie-Ui-2/STEP_060_REPO.html" class="md-nav__link">
        Referential Integrity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-05/5.2-Movie-Ui-2/STEP_070_REPO.html" class="md-nav__link">
        Editing Entities
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Week 6  (Oct 05 - Oct 11)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 6  (Oct 05 - Oct 11)" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Week 6  (Oct 05 - Oct 11)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_1" type="checkbox" id="__nav_10_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_1">
          6.1 Compose graphics 1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="6.1 Compose graphics 1" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_1">
          <span class="md-nav__icon md-icon"></span>
          6.1 Compose graphics 1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-06/6.1-Compose-graphics-1/index.html" class="md-nav__link">
        Compose Graphics 1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Week 7  (Oct 12 - Oct 18)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 7  (Oct 12 - Oct 18)" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Week 7  (Oct 12 - Oct 18)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_1" type="checkbox" id="__nav_11_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_1">
          7.1 Compose graphics 2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="7.1 Compose graphics 2" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_1">
          <span class="md-nav__icon md-icon"></span>
          7.1 Compose graphics 2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-07/7.1-Compose-graphics-2/index.html" class="md-nav__link">
        Compose Graphics 2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Week 8  (Oct 19 - Oct 25)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 8  (Oct 19 - Oct 25)" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Week 8  (Oct 19 - Oct 25)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12_1" type="checkbox" id="__nav_12_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12_1">
          8.1 Rest
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="8.1 Rest" data-md-level="2">
        <label class="md-nav__title" for="__nav_12_1">
          <span class="md-nav__icon md-icon"></span>
          8.1 Rest
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-08/8.1-Rest/index.html" class="md-nav__link">
        Rest
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12_2" type="checkbox" id="__nav_12_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12_2">
          8.2 Compose Layouts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="8.2 Compose Layouts" data-md-level="2">
        <label class="md-nav__title" for="__nav_12_2">
          <span class="md-nav__icon md-icon"></span>
          8.2 Compose Layouts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-08/8.2-Compose-Layouts/index.html" class="md-nav__link">
        Compose Layouts
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12_3" type="checkbox" id="__nav_12_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12_3">
          8.3 Compose Toast Snackbar Dialog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="8.3 Compose Toast Snackbar Dialog" data-md-level="2">
        <label class="md-nav__title" for="__nav_12_3">
          <span class="md-nav__icon md-icon"></span>
          8.3 Compose Toast Snackbar Dialog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-08/8.3-Compose-Toast-Snackbar-Dialog/index.html" class="md-nav__link">
        Compose Toast Snackbar Dialog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" type="checkbox" id="__nav_13" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_13">
          Week 9  (Oct 26 - Nov 01)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 9  (Oct 26 - Nov 01)" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Week 9  (Oct 26 - Nov 01)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13_1" type="checkbox" id="__nav_13_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_13_1">
          9.1 Google map
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="9.1 Google map" data-md-level="2">
        <label class="md-nav__title" for="__nav_13_1">
          <span class="md-nav__icon md-icon"></span>
          9.1 Google map
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        Google Maps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_010_REPO.html" class="md-nav__link">
        Initial Project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_020_REPO.html" class="md-nav__link">
        Update versions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_022_FULL.html" class="md-nav__link">
        Find Your Fingerprint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_025_FULL.html" class="md-nav__link">
        Google Console Project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_030_REPO.html" class="md-nav__link">
        Set up a map
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_040_REPO.html" class="md-nav__link">
        Add a Marker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_050_REPO.html" class="md-nav__link">
        Initial Position
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_060_REPO.html" class="md-nav__link">
        Loading Spinner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_070_REPO.html" class="md-nav__link">
        Map Types
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
      <a href="STEP_080_REPO.html" class="md-nav__link md-nav__link--active">
        Current Location
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_090_REPO.html" class="md-nav__link">
        Jump to Current Location
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_100_REPO.html" class="md-nav__link">
        Add Top Bar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_110_REPO.html" class="md-nav__link">
        Copy Icons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_120_REPO.html" class="md-nav__link">
        Manage Car Location
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_130_REPO.html" class="md-nav__link">
        Dragging a Marker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_140_REPO.html" class="md-nav__link">
        Navigating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_150_REPO.html" class="md-nav__link">
        Lat/Lon Bounds
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13_2" type="checkbox" id="__nav_13_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_13_2">
          9.2 Speech
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="9.2 Speech" data-md-level="2">
        <label class="md-nav__title" for="__nav_13_2">
          <span class="md-nav__icon md-icon"></span>
          9.2 Speech
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../9.2-Speech/index.html" class="md-nav__link">
        Speech
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14">
          Week 10  (Nov 02 - Nov 08)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 10  (Nov 02 - Nov 08)" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Week 10  (Nov 02 - Nov 08)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1" type="checkbox" id="__nav_14_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14_1">
          10.1 Reading writing files
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="10.1 Reading writing files" data-md-level="2">
        <label class="md-nav__title" for="__nav_14_1">
          <span class="md-nav__icon md-icon"></span>
          10.1 Reading writing files
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-10/10.1-Reading-writing-files/index.html" class="md-nav__link">
        Reading Writing Files
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_2" type="checkbox" id="__nav_14_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14_2">
          10.2 Dependency injection
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="10.2 Dependency injection" data-md-level="2">
        <label class="md-nav__title" for="__nav_14_2">
          <span class="md-nav__icon md-icon"></span>
          10.2 Dependency injection
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-10/10.2-Dependency-injection/index.html" class="md-nav__link">
        Dependency Injection
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_3" type="checkbox" id="__nav_14_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14_3">
          10.3 Clean architecture
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="10.3 Clean architecture" data-md-level="2">
        <label class="md-nav__title" for="__nav_14_3">
          <span class="md-nav__icon md-icon"></span>
          10.3 Clean architecture
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-10/10.3-Clean-architecture/index.html" class="md-nav__link">
        Clean Architecture
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" type="checkbox" id="__nav_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15">
          Week 11  (Nov 09 - Nov 15)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 11  (Nov 09 - Nov 15)" data-md-level="1">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          Week 11  (Nov 09 - Nov 15)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15_1" type="checkbox" id="__nav_15_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15_1">
          11.1 Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="11.1 Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_15_1">
          <span class="md-nav__icon md-icon"></span>
          11.1 Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-11/11.1-Services/index.html" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15_2" type="checkbox" id="__nav_15_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15_2">
          11.2 Widgets
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="11.2 Widgets" data-md-level="2">
        <label class="md-nav__title" for="__nav_15_2">
          <span class="md-nav__icon md-icon"></span>
          11.2 Widgets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-11/11.2-Widgets/index.html" class="md-nav__link">
        Widgets
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16" type="checkbox" id="__nav_16" >
      
      
      
      
        <label class="md-nav__link" for="__nav_16">
          Week 12  (Nov 16 - Nov 22)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 12  (Nov 16 - Nov 22)" data-md-level="1">
        <label class="md-nav__title" for="__nav_16">
          <span class="md-nav__icon md-icon"></span>
          Week 12  (Nov 16 - Nov 22)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16_1" type="checkbox" id="__nav_16_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_16_1">
          12.1 Legacy views
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="12.1 Legacy views" data-md-level="2">
        <label class="md-nav__title" for="__nav_16_1">
          <span class="md-nav__icon md-icon"></span>
          12.1 Legacy views
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-12/12.1-Legacy-views/index.html" class="md-nav__link">
        Legacy Views
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16_2" type="checkbox" id="__nav_16_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_16_2">
          12.2 Legacy fragments
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="12.2 Legacy fragments" data-md-level="2">
        <label class="md-nav__title" for="__nav_16_2">
          <span class="md-nav__icon md-icon"></span>
          12.2 Legacy fragments
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-12/12.2-Legacy-fragments/index.html" class="md-nav__link">
        Legacy Fragments
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17" type="checkbox" id="__nav_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_17">
          Week 13  (Nov 30 - Dec 06)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 13  (Nov 30 - Dec 06)" data-md-level="1">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          Week 13  (Nov 30 - Dec 06)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17_1" type="checkbox" id="__nav_17_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_17_1">
          13.1 Testing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="13.1 Testing" data-md-level="2">
        <label class="md-nav__title" for="__nav_17_1">
          <span class="md-nav__icon md-icon"></span>
          13.1 Testing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-13/13.1-Testing/index.html" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17_2" type="checkbox" id="__nav_17_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_17_2">
          13.2 Nfc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="13.2 Nfc" data-md-level="2">
        <label class="md-nav__title" for="__nav_17_2">
          <span class="md-nav__icon md-icon"></span>
          13.2 Nfc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-13/13.2-Nfc/index.html" class="md-nav__link">
        NFC
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_18" type="checkbox" id="__nav_18" >
      
      
      
      
        <label class="md-nav__link" for="__nav_18">
          Week 14  (Dec 07 - Dec 13)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Week 14  (Dec 07 - Dec 13)" data-md-level="1">
        <label class="md-nav__title" for="__nav_18">
          <span class="md-nav__icon md-icon"></span>
          Week 14  (Dec 07 - Dec 13)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_18_1" type="checkbox" id="__nav_18_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_18_1">
          14.1 Sensors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="14.1 Sensors" data-md-level="2">
        <label class="md-nav__title" for="__nav_18_1">
          <span class="md-nav__icon md-icon"></span>
          14.1 Sensors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-14/14.1-Sensors/index.html" class="md-nav__link">
        Sensors
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_18_2" type="checkbox" id="__nav_18_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_18_2">
          14.2 Publishing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="14.2 Publishing" data-md-level="2">
        <label class="md-nav__title" for="__nav_18_2">
          <span class="md-nav__icon md-icon"></span>
          14.2 Publishing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-14/14.2-Publishing/index.html" class="md-nav__link">
        Publishing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_18_3" type="checkbox" id="__nav_18_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_18_3">
          14.3 Resources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="14.3 Resources" data-md-level="2">
        <label class="md-nav__title" for="__nav_18_3">
          <span class="md-nav__icon md-icon"></span>
          14.3 Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../week-14/14.3-Resources/index.html" class="md-nav__link">
        Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
        </div>
    </div>
</div>

          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
<div class="sas1-text-column">

<h1>9.1 Google map</h1>

<h2>Current Location</h2>
    
<p>Next, let's add the user's current location. A little later we'll use this for the initial map position and to keep track of where the user parked their car.</p>
<p>The user's Location is determined by the "Fused Location Provider". This service uses technologies such as GPS, cell towers, and wi-fi to determine the current location. Some of these provide precise location (such as GPS), while others might only be able to approximate user location.</p>
<p>Because an application could send location information somewhere else (a server on the internet, for example), location is considered a "dangerous" permission, and we must ask the user if it's ok to use while the application is running.</p>
<p>The user has a choice: they can allow precise or approximate location information, for all runs of the application or just the current run, or deny the request. Ideally, your application should gracefully handle denied function. For our car-finder application, if the user denies current location tracking, we could, for example, allow the user to tap the location of their car on the map rather than automatically using the current location. (For this example application, we won't do that; we'll just tell the user the application cannot function without location.)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Requesting permissions at runtime can be a bit tricky, and support for permissions when using Jetpack Compose is still experimental (and a bit difficult to use properly). For now, we'll be requesting permissions and listening for location using the <code>Activity</code> and updating a view model with the reported locations.</p>
</div>
<p>Any needed permissions <em>must</em> be declared first in the <code>AndroidManifest.xml</code>. <a class="find-button" href="#080-manifest-permissions">Here</a> we declare </p>
<ul>
<li>Coarse Location (for "approximate" location)</li>
<li>Fine Location (for "precise" location)</li>
</ul>
<p>Both of these are "dangerous" permissions and must be requested at runtime.</p>
<p>The Google Play Location Services allows us to set up a listener to receive location updates. We'll want to store the current location somewhere, and we'll need it when setting the car's location. The car's location will be persisted and we want to ensure it stays across configuration changes. This sounds like a job for a View Model.</p>
<p>We access Play Location Services by adding a <a class="find-button" href="#080-add-location-deps">new dependency</a>.</p>
<p>We'll need to <a class="find-button" href="#080-track-current-location">track the location</a>. We set up a <code>MutableStateFlow</code> as a <code>private</code> property in the view model. By convention, we prefix it with an underscore, indicating it's the <em>actual</em> flow that we'll emit to. We want our view model to keep control of emitted values, so we only expose a read-only <code>Flow</code> publicly.</p>
<p>But our <code>MainActivity</code> will be the thing that actually talks with the Fused Location Provider; it'll need to <a class="find-button" href="#080-allow-activity-to-update">update the current location</a>.</p>
<p>In the <code>MainActivity</code>, we <a class="find-button" href="#080-location-client-and-callback">define properties</a> for the fused location provider client and the callback that we'll register to receive location updates.</p>
<p>We have to set up a new sequence of events to start our activity. This sequence looks like</p>
<pre class="mermaid"><code>graph TD
    A{Check Google Play Services}
    X[Cannot run - exit]
    X2[Cannot run - exit]
    A --&gt;|Not Available|X
    A --&gt;|Available|B

    B{Do we have location permission?}
    B --&gt;|Yes|C
    B --&gt;|No|E
    C[Start location request]
    C --&gt; D
    D[Setup Map]

    E[Request Location Permissions]
    E --&gt; F
    F{Were permissions granted?}
    F --&gt;|No|G
    F --&gt;|Yes|C
    G[Show rationale]
    G --&gt; H
    H{Does user agree?}
    H --&gt;|Yes|I
    H --&gt;|No|X2
    I[Application Info Screen to change permissions - exits application]</code></pre>
<p>We move the UI setup out of <code>onCreate</code> (we'll see it again soon), and <a class="find-button" href="#080-check-play-services">check Google Play Services Availability</a>. If Play Services aren't available,  we can't run and must exit.</p>
<p>If Play Services are available, we <a class="find-button" href="#080-have-permission">check if we have location permissions</a>. If not, we request permission. If so, we just go ahead and start our location request and set up the UI.</p>
<p>Requesting permissions has gotten a bit easier over the years... We <a class="find-button" href="#080-permission-launcher">register a launcher</a> that will invoke the system permission requester and return whether the user granted or denied permissions. If granted, we go ahead and start the location request and set up the UI. If not granted, we go into rationale mode.</p>
<p>We've decided that our car finder simply cannot run without knowing the current location, so we display this rationale to the user in a dialog. (Note that this is an old-style "views" dialog, not a Jetpack Compose dialog.) The user can agree to go change the permissions (and we'll send them to the system Application Info screen to do so), or they can say "nope!" and we'll quit the application by calling <code>finish()</code> on the <code>Activity</code> (which pops it off the back stack - because we only have one <code>Activity</code> on the back stack, the application exits).</p>
<p>After all of the availability and permission checking, we can finally start the application in <code>startLocationAndMap()</code>. The first thing we do is <a class="find-button" href="#080-request-location-updates">request location updates</a> from the fused location provider, which will use our <code>locationCallback</code> to send the results to the view model. This will emit the location, which is <a class="find-button" href="#080-collect-location-state">collected</a> and made available to our composition.</p>
<p>We pass the location to the <code>GoogleMapDisplay</code> and <a class="find-button" href="#080-current-location-state">create a <code>MarkerState</code></a> to give us a location for a <a class="find-button" href="#080-marker">new <code>Marker</code></a>.</p>
<p>When we run the app, the location marker appears when it's available.</p>
  
</div>
  
<div class="sas1-code-column">
  
<h2>Code Changes</h2>
  
<details class="example" open>
<summary>CHANGED: /app/build.gradle</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/build.gradle';">
<div class="highlight"><pre><span></span><span class="w">  </span><span class="n">plugins</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                              </span>
<span class="w">      </span><span class="n">id</span><span class="w"> </span><span class="s1">&#39;com.android.application&#39;</span><span class="w">                                                                       </span>
<span class="w">      </span><span class="n">id</span><span class="w"> </span><span class="s1">&#39;org.jetbrains.kotlin.android&#39;</span><span class="w">                                                                  </span>
<div id="030-use-secrets-plugin"><span class="w">      </span><span class="n">id</span><span class="w"> </span><span class="s1">&#39;com.google.android.libraries.mapsplatform.secrets-gradle-plugin&#39;</span><span class="w">                               </span>
</div><span class="w">  </span><span class="o">}</span><span class="w">                                                                                                      </span>
<span class="w">                                                                                                         </span>
<span class="w">  </span><span class="n">android</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                              </span>
<span class="w">      </span><span class="n">namespace</span><span class="w"> </span><span class="s1">&#39;com.javadude.carfinder&#39;</span><span class="w">                                                                 </span>
<div id="020-latest-android-sdk"><span class="w">      </span><span class="n">compileSdk</span><span class="w"> </span><span class="mi">33</span><span class="w">                                                                                      </span>
<span class="w">                                                                                                         </span>
<span class="w">      </span><span class="n">defaultConfig</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                    </span>
<span class="w">          </span><span class="n">applicationId</span><span class="w"> </span><span class="s2">&quot;com.javadude.carfinder&quot;</span><span class="w">                                                         </span>
<span class="w">          </span><span class="n">minSdk</span><span class="w"> </span><span class="mi">21</span><span class="w">                                                                                      </span>
<span class="w">          </span><span class="n">targetSdk</span><span class="w"> </span><span class="mi">33</span><span class="w">                                                                                   </span>
</div><span class="w">          </span><span class="n">versionCode</span><span class="w"> </span><span class="mi">1</span><span class="w">                                                                                  </span>
<span class="w">          </span><span class="n">versionName</span><span class="w"> </span><span class="s2">&quot;1.0&quot;</span><span class="w">                                                                              </span>
<span class="w">                                                                                                         </span>
<span class="w">          </span><span class="n">testInstrumentationRunner</span><span class="w"> </span><span class="s2">&quot;androidx.test.runner.AndroidJUnitRunner&quot;</span><span class="w">                            </span>
<span class="w">          </span><span class="n">vectorDrawables</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                              </span>
<span class="w">              </span><span class="n">useSupportLibrary</span><span class="w"> </span><span class="kc">true</span><span class="w">                                                                     </span>
<span class="w">          </span><span class="o">}</span><span class="w">                                                                                              </span>
<span class="w">      </span><span class="o">}</span><span class="w">                                                                                                  </span>
<span class="w">                                                                                                         </span>
<span class="w">      </span><span class="n">buildTypes</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                       </span>
<span class="w">          </span><span class="n">release</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                      </span>
<span class="w">              </span><span class="n">minifyEnabled</span><span class="w"> </span><span class="kc">false</span><span class="w">                                                                        </span>
<span class="w">              </span><span class="n">proguardFiles</span><span class="w"> </span><span class="n">getDefaultProguardFile</span><span class="o">(</span><span class="s1">&#39;proguard-android-optimize.txt&#39;</span><span class="o">),</span><span class="w"> </span><span class="s1">&#39;proguard-rules.pro&#39;</span><span class="w"></span>
<span class="w">          </span><span class="o">}</span><span class="w">                                                                                              </span>
<span class="w">      </span><span class="o">}</span><span class="w">                                                                                                  </span>
<span class="w">      </span><span class="n">compileOptions</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                   </span>
<span class="w">          </span><span class="n">sourceCompatibility</span><span class="w"> </span><span class="n">JavaVersion</span><span class="o">.</span><span class="na">VERSION_1_8</span><span class="w">                                                    </span>
<span class="w">          </span><span class="n">targetCompatibility</span><span class="w"> </span><span class="n">JavaVersion</span><span class="o">.</span><span class="na">VERSION_1_8</span><span class="w">                                                    </span>
<span class="w">      </span><span class="o">}</span><span class="w">                                                                                                  </span>
<span class="w">      </span><span class="n">kotlinOptions</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                    </span>
<span class="w">          </span><span class="n">jvmTarget</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;1.8&#39;</span><span class="w">                                                                              </span>
<span class="w">      </span><span class="o">}</span><span class="w">                                                                                                  </span>
<span class="w">      </span><span class="n">buildFeatures</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                    </span>
<span class="w">          </span><span class="n">compose</span><span class="w"> </span><span class="kc">true</span><span class="w">                                                                                   </span>
<span class="w">      </span><span class="o">}</span><span class="w">                                                                                                  </span>
<span class="w">      </span><span class="n">composeOptions</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                   </span>
<div id="020-use-variable-from-main-build"><span class="w">          </span><span class="n">kotlinCompilerExtensionVersion</span><span class="w"> </span><span class="n">compose_compiler_version</span><span class="w">                                        </span>
</div><span class="w">      </span><span class="o">}</span><span class="w">                                                                                                  </span>
<span class="w">      </span><span class="n">packagingOptions</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                 </span>
<span class="w">          </span><span class="n">resources</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                    </span>
<span class="w">              </span><span class="n">excludes</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39;/META-INF/{AL2.0,LGPL2.1}&#39;</span><span class="w">                                                    </span>
<span class="w">          </span><span class="o">}</span><span class="w">                                                                                              </span>
<span class="w">      </span><span class="o">}</span><span class="w">                                                                                                  </span>
<span class="w">  </span><span class="o">}</span><span class="w">                                                                                                      </span>
<span class="w">                                                                                                         </span>
<span class="w">  </span><span class="n">dependencies</span><span class="w"> </span><span class="o">{</span><span class="w">                                                                                         </span>
<div id="030-add-map-deps"><span class="w">      </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;com.google.maps.android:maps-ktx:3.3.0&#39;</span><span class="w">                                            </span>
<span class="w">      </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;com.google.maps.android:maps-compose:2.5.2&#39;</span><span class="w">                                        </span>
</div><span class="w">                                                                                                         </span>
<div id="080-add-location-deps"><ins><span class="w">      </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;com.google.android.gms:play-services-location:21.0.0&#39;</span><span class="w">                              </span></ins>
</div><ins><span class="w">                                                                                                         </span></ins>
<div id="020-update-all-highlighted-deps"><span class="w">      </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;androidx.core:core-ktx:1.9.0&#39;</span><span class="w">                                                      </span>
<span class="w">      </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;androidx.lifecycle:lifecycle-runtime-ktx:2.5.1&#39;</span><span class="w">                                    </span>
<span class="w">      </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;androidx.activity:activity-compose:1.6.0&#39;</span><span class="w">                                          </span>
<span class="w">      </span><span class="n">implementation</span><span class="w"> </span><span class="s2">&quot;androidx.compose.ui:ui:$compose_ui_version&quot;</span><span class="w">                                        </span>
<span class="w">      </span><span class="n">implementation</span><span class="w"> </span><span class="s2">&quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;</span><span class="w">                        </span>
<span class="w">      </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;androidx.compose.material:material:1.2.1&#39;</span><span class="w">                                          </span>
<span class="w">      </span><span class="n">testImplementation</span><span class="w"> </span><span class="s1">&#39;junit:junit:4.13.2&#39;</span><span class="w">                                                            </span>
<span class="w">      </span><span class="n">androidTestImplementation</span><span class="w"> </span><span class="s1">&#39;androidx.test.ext:junit:1.1.3&#39;</span><span class="w">                                          </span>
<span class="w">      </span><span class="n">androidTestImplementation</span><span class="w"> </span><span class="s1">&#39;androidx.test.espresso:espresso-core:3.4.0&#39;</span><span class="w">                             </span>
<span class="w">      </span><span class="n">androidTestImplementation</span><span class="w"> </span><span class="s2">&quot;androidx.compose.ui:ui-test-junit4:$compose_ui_version&quot;</span><span class="w">                 </span>
<span class="w">      </span><span class="n">debugImplementation</span><span class="w"> </span><span class="s2">&quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;</span><span class="w">                           </span>
<span class="w">      </span><span class="n">debugImplementation</span><span class="w"> </span><span class="s2">&quot;androidx.compose.ui:ui-test-manifest:$compose_ui_version&quot;</span><span class="w">                     </span>
</div><span class="w">  </span><span class="o">}</span><span class="w">                                                                                                      </span>
</pre></div>
</div>
</details>
<details class="example" open>
<summary>CHANGED: /app/src/main/AndroidManifest.xml</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/AndroidManifest.xml';">
<div class="highlight"><pre><del>//<span></span>  <span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>                                      </del>
<del>//<span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>        </del>
<del>//    <span class="na">xmlns:tools=</span><span class="s">&quot;http://schemas.android.com/tools&quot;</span><span class="nt">&gt;</span>                         </del>
<del>//                                                                            </del>
<del>//    <span class="nt">&lt;application</span>                                                            </del>
<del>//        <span class="na">android:allowBackup=</span><span class="s">&quot;true&quot;</span>                                          </del>
<del>//        <span class="na">android:dataExtractionRules=</span><span class="s">&quot;@xml/data_extraction_rules&quot;</span>            </del>
<del>//        <span class="na">android:fullBackupContent=</span><span class="s">&quot;@xml/backup_rules&quot;</span>                       </del>
<del>//        <span class="na">android:icon=</span><span class="s">&quot;@mipmap/ic_launcher&quot;</span>                                  </del>
<del>//        <span class="na">android:label=</span><span class="s">&quot;@string/app_name&quot;</span>                                    </del>
<del>//        <span class="na">android:roundIcon=</span><span class="s">&quot;@mipmap/ic_launcher_round&quot;</span>                       </del>
<del>//        <span class="na">android:supportsRtl=</span><span class="s">&quot;true&quot;</span>                                          </del>
<del>//        <span class="na">android:theme=</span><span class="s">&quot;@style/Theme.CarFinder&quot;</span>                              </del>
<del>//        <span class="na">tools:targetApi=</span><span class="s">&quot;31&quot;</span><span class="nt">&gt;</span>                                               </del>
<del>//                                                                            </del>
<del>//        <span class="nt">&lt;meta-data</span>                                                          </del>
<del>//            <span class="na">android:name=</span><span class="s">&quot;com.google.android.geo.API_KEY&quot;</span>                   </del>
<del>//            <span class="na">android:value=</span><span class="s">&quot;${MAPS_API_KEY}&quot;</span> <span class="nt">/&gt;</span>                              </del>
<del>//                                                                            </del>
<del>//        <span class="nt">&lt;activity</span>                                                           </del>
<del>//            <span class="na">android:name=</span><span class="s">&quot;.MainActivity&quot;</span>                                    </del>
<del>//            <span class="na">android:exported=</span><span class="s">&quot;true&quot;</span>                                         </del>
<del>//            <span class="na">android:label=</span><span class="s">&quot;@string/app_name&quot;</span>                                </del>
<del>//            <span class="na">android:theme=</span><span class="s">&quot;@style/Theme.CarFinder&quot;</span><span class="nt">&gt;</span>                         </del>
<del>//            <span class="nt">&lt;intent-filter&gt;</span>                                                 </del>
<del>//                <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.action.MAIN&quot;</span> <span class="nt">/&gt;</span>        </del>
<del>//                                                                            </del>
<del>//                <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.category.LAUNCHER&quot;</span> <span class="nt">/&gt;</span></del>
<del>//            <span class="nt">&lt;/intent-filter&gt;</span>                                                </del>
<del>//                                                                            </del>
<del>//            <span class="nt">&lt;meta-data</span>                                                      </del>
<del>//                <span class="na">android:name=</span><span class="s">&quot;android.app.lib_name&quot;</span>                         </del>
<del>//                <span class="na">android:value=</span><span class="s">&quot;&quot;</span> <span class="nt">/&gt;</span>                                         </del>
<del>//        <span class="nt">&lt;/activity&gt;</span>                                                         </del>
<del>//    <span class="nt">&lt;/application&gt;</span>                                                          </del>
<del>//                                                                            </del>
<del>//<span class="nt">&lt;/manifest&gt;</span>                                                                 </del>
<ins><div class="highlight"><pre><span></span>  <span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>                                          </ins>
<ins>  <span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>            </ins>
<ins>      <span class="na">xmlns:tools=</span><span class="s">&quot;http://schemas.android.com/tools&quot;</span><span class="nt">&gt;</span>                             </ins>
<ins>                                                                                  </ins>
<div id="080-manifest-permissions"><ins>      <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</span> <span class="nt">/&gt;</span></ins>
<ins>      <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span> <span class="nt">/&gt;</span>  </ins>
</div><ins>                                                                                  </ins>
<ins>      <span class="nt">&lt;application</span>                                                                </ins>
<ins>          <span class="na">android:allowBackup=</span><span class="s">&quot;true&quot;</span>                                              </ins>
<ins>          <span class="na">android:dataExtractionRules=</span><span class="s">&quot;@xml/data_extraction_rules&quot;</span>                </ins>
<ins>          <span class="na">android:fullBackupContent=</span><span class="s">&quot;@xml/backup_rules&quot;</span>                           </ins>
<ins>          <span class="na">android:icon=</span><span class="s">&quot;@mipmap/ic_launcher&quot;</span>                                      </ins>
<ins>          <span class="na">android:label=</span><span class="s">&quot;@string/app_name&quot;</span>                                        </ins>
<ins>          <span class="na">android:roundIcon=</span><span class="s">&quot;@mipmap/ic_launcher_round&quot;</span>                           </ins>
<ins>          <span class="na">android:supportsRtl=</span><span class="s">&quot;true&quot;</span>                                              </ins>
<ins>          <span class="na">android:theme=</span><span class="s">&quot;@style/Theme.CarFinder&quot;</span>                                  </ins>
<ins>          <span class="na">tools:targetApi=</span><span class="s">&quot;31&quot;</span><span class="nt">&gt;</span>                                                   </ins>
<ins>                                                                                  </ins>
<div id="030-manifest-key"><ins>          <span class="nt">&lt;meta-data</span>                                                              </ins>
<ins>              <span class="na">android:name=</span><span class="s">&quot;com.google.android.geo.API_KEY&quot;</span>                       </ins>
<ins>              <span class="na">android:value=</span><span class="s">&quot;${MAPS_API_KEY}&quot;</span> <span class="nt">/&gt;</span>                                  </ins>
</div><ins>                                                                                  </ins>
<ins>          <span class="nt">&lt;activity</span>                                                               </ins>
<ins>              <span class="na">android:name=</span><span class="s">&quot;.MainActivity&quot;</span>                                        </ins>
<ins>              <span class="na">android:exported=</span><span class="s">&quot;true&quot;</span>                                             </ins>
<ins>              <span class="na">android:label=</span><span class="s">&quot;@string/app_name&quot;</span>                                    </ins>
<ins>              <span class="na">android:theme=</span><span class="s">&quot;@style/Theme.CarFinder&quot;</span><span class="nt">&gt;</span>                             </ins>
<ins>              <span class="nt">&lt;intent-filter&gt;</span>                                                     </ins>
<ins>                  <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.action.MAIN&quot;</span> <span class="nt">/&gt;</span>            </ins>
<ins>                                                                                  </ins>
<ins>                  <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.category.LAUNCHER&quot;</span> <span class="nt">/&gt;</span>    </ins>
<ins>              <span class="nt">&lt;/intent-filter&gt;</span>                                                    </ins>
<ins>                                                                                  </ins>
<ins>              <span class="nt">&lt;meta-data</span>                                                          </ins>
<ins>                  <span class="na">android:name=</span><span class="s">&quot;android.app.lib_name&quot;</span>                             </ins>
<ins>                  <span class="na">android:value=</span><span class="s">&quot;&quot;</span> <span class="nt">/&gt;</span>                                             </ins>
<ins>          <span class="nt">&lt;/activity&gt;</span>                                                             </ins>
<ins>      <span class="nt">&lt;/application&gt;</span>                                                              </ins>
<ins>                                                                                  </ins>
<ins>  <span class="nt">&lt;/manifest&gt;</span>                                                                     </ins>
</pre></div>
</div>
</details>
<details class="success" open>
<summary>ADDED: /app/src/main/java/com/javadude/carfinder/CarViewModel.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/javadude/carfinder/CarViewModel.kt';">
<div class="highlight"><pre><span></span><span class="w">  </span><span class="k">package</span><span class="w"> </span><span class="nn">com.javadude.carfinder</span><span class="w">                                                </span>
<span class="w">                                                                                </span>
<span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.app.Application</span><span class="w">                                                </span>
<span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.location.Location</span><span class="w">                                              </span>
<span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.lifecycle.AndroidViewModel</span><span class="w">                                    </span>
<span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">kotlinx.coroutines.flow.Flow</span><span class="w">                                           </span>
<span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">kotlinx.coroutines.flow.MutableStateFlow</span><span class="w">                               </span>
<span class="w">                                                                                </span>
<span class="w">  </span><span class="kd">class</span><span class="w"> </span><span class="nc">CarViewModel</span><span class="p">(</span><span class="n">application</span><span class="p">:</span><span class="w"> </span><span class="n">Application</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">AndroidViewModel</span><span class="p">(</span><span class="n">application</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<div id="080-track-current-location"><span class="w">      </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">_currentLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MutableStateFlow</span><span class="o">&lt;</span><span class="n">Location?&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span><span class="w">          </span>
<span class="w">      </span><span class="kd">val</span><span class="w"> </span><span class="nv">currentLocation</span><span class="p">:</span><span class="w"> </span><span class="n">Flow</span><span class="o">&lt;</span><span class="n">Location?&gt;</span><span class="w">                                      </span>
<span class="w">          </span><span class="k">get</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_currentLocation</span><span class="w">                                              </span>
</div><span class="w">                                                                                </span>
<div id="080-allow-activity-to-update"><span class="w">      </span><span class="kd">fun</span><span class="w"> </span><span class="nf">updateLocation</span><span class="p">(</span><span class="n">location</span><span class="p">:</span><span class="w"> </span><span class="n">Location?)</span><span class="w"> </span><span class="p">{</span><span class="w">                                 </span>
<span class="w">          </span><span class="n">_currentLocation</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">location</span><span class="w">                                     </span>
<span class="w">      </span><span class="p">}</span><span class="w">                                                                         </span>
</div><span class="w">  </span><span class="p">}</span><span class="w">                                                                             </span>
</pre></div>
</div>
</details>
<details class="example" open>
<summary>CHANGED: /app/src/main/java/com/javadude/carfinder/MainActivity.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/javadude/carfinder/MainActivity.kt';">
<div class="highlight"><pre><del>//<span></span><span class="w">  </span><span class="k">package</span><span class="w"> </span><span class="nn">com.javadude.carfinder</span><span class="w">                                                    </span></del>
<del>//<span class="w">                                                                                  </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">android.os.Bundle</span><span class="w">                                                          </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.activity.ComponentActivity</span><span class="w">                                        </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.activity.compose.setContent</span><span class="w">                                       </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.animation.AnimatedVisibility</span><span class="w">                              </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.animation.EnterTransition</span><span class="w">                                 </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.animation.fadeOut</span><span class="w">                                         </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.background</span><span class="w">                                     </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.layout.Box</span><span class="w">                                     </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.layout.Column</span><span class="w">                                  </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.layout.fillMaxSize</span><span class="w">                             </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.layout.fillMaxWidth</span><span class="w">                            </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.layout.wrapContentSize</span><span class="w">                         </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.material.CircularProgressIndicator</span><span class="w">                        </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.material.MaterialTheme</span><span class="w">                                    </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.material.Surface</span><span class="w">                                          </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.runtime.Composable</span><span class="w">                                        </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.runtime.getValue</span><span class="w">                                          </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.runtime.mutableStateOf</span><span class="w">                                    </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.runtime.remember</span><span class="w">                                          </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.runtime.setValue</span><span class="w">                                          </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.ui.Modifier</span><span class="w">                                               </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.android.gms.maps.model.CameraPosition</span><span class="w">                           </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.android.gms.maps.model.LatLng</span><span class="w">                                   </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.CameraPositionState</span><span class="w">                        </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.GoogleMap</span><span class="w">                                  </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.MapProperties</span><span class="w">                              </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.MapType</span><span class="w">                                    </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.MarkerInfoWindowContent</span><span class="w">                    </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.rememberCameraPositionState</span><span class="w">                </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.rememberMarkerState</span><span class="w">                        </span></del>
<del>//<span class="w"></span><span class="k">import</span><span class="w"> </span><span class="nn">com.javadude.carfinder.ui.theme.CarFinderTheme</span><span class="w">                             </span></del>
<del>//<span class="w">                                                                                  </span></del>
<del>//<span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">googleHQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LatLng</span><span class="p">(</span><span class="m">37.42423291057923</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="m">122.08811454627153</span><span class="p">)</span><span class="w">             </span></del>
<del>//<span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">defaultCameraPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CameraPosition</span><span class="p">.</span><span class="na">fromLatLngZoom</span><span class="p">(</span><span class="n">googleHQ</span><span class="p">,</span><span class="w"> </span><span class="m">11f</span><span class="p">)</span><span class="w">  </span></del>
<del>//<span class="w">                                                                                  </span></del>
<del>//<span class="w"></span><span class="kd">class</span><span class="w"> </span><span class="nc">MainActivity</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ComponentActivity</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">                                        </span></del>
<del>//<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">:</span><span class="w"> </span><span class="n">Bundle?)</span><span class="w"> </span><span class="p">{</span><span class="w">                          </span></del>
<del>//<span class="w">        </span><span class="k">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w">                                        </span></del>
<del>//<span class="w">        </span><span class="n">setContent</span><span class="w"> </span><span class="p">{</span><span class="w">                                                              </span></del>
<del>//<span class="w">            </span><span class="n">CarFinderTheme</span><span class="w"> </span><span class="p">{</span><span class="w">                                                      </span></del>
<del>//<span class="w">                </span><span class="c1">// A surface container using the &#39;background&#39; color from the theme</span><span class="w"></span></del>
<del>//<span class="w">                </span><span class="n">Surface</span><span class="p">(</span><span class="w">                                                          </span></del>
<del>//<span class="w">                    </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxSize</span><span class="p">(),</span><span class="w">                            </span></del>
<del>//<span class="w">                    </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MaterialTheme</span><span class="p">.</span><span class="na">colors</span><span class="p">.</span><span class="na">background</span><span class="w">                       </span></del>
<del>//<span class="w">                </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                               </span></del>
<del>//<span class="w">                    </span><span class="kd">val</span><span class="w"> </span><span class="nv">cameraPositionState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rememberCameraPositionState</span><span class="w"> </span><span class="p">{</span><span class="w">       </span></del>
<del>//<span class="w">                        </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">defaultCameraPosition</span><span class="w">                          </span></del>
<del>//<span class="w">                    </span><span class="p">}</span><span class="w">                                                             </span></del>
<del>//<span class="w">                                                                                  </span></del>
<del>//<span class="w">                    </span><span class="n">GoogleMapDisplay</span><span class="p">(</span><span class="w">                                             </span></del>
<del>//<span class="w">                        </span><span class="n">place</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">googleHQ</span><span class="p">,</span><span class="w">                                         </span></del>
<del>//<span class="w">                        </span><span class="n">placeDescription</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Google HQ&quot;</span><span class="p">,</span><span class="w">                           </span></del>
<del>//<span class="w">                        </span><span class="n">cameraPositionState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cameraPositionState</span><span class="p">,</span><span class="w">                </span></del>
<del>//<span class="w">                        </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxSize</span><span class="p">(),</span><span class="w">                        </span></del>
<del>//<span class="w">                    </span><span class="p">)</span><span class="w">                                                             </span></del>
<del>//<span class="w">                </span><span class="p">}</span><span class="w">                                                                 </span></del>
<del>//<span class="w">            </span><span class="p">}</span><span class="w">                                                                     </span></del>
<del>//<span class="w">        </span><span class="p">}</span><span class="w">                                                                         </span></del>
<del>//<span class="w">    </span><span class="p">}</span><span class="w">                                                                             </span></del>
<del>//<span class="w"></span><span class="p">}</span><span class="w">                                                                                 </span></del>
<del>//<span class="w">                                                                                  </span></del>
<del>//<span class="w"></span><span class="nd">@Composable</span><span class="w">                                                                       </span></del>
<del>//<span class="w"></span><span class="kd">fun</span><span class="w"> </span><span class="nf">GoogleMapDisplay</span><span class="p">(</span><span class="w">                                                             </span></del>
<del>//<span class="w">    </span><span class="n">place</span><span class="p">:</span><span class="w"> </span><span class="n">LatLng</span><span class="p">,</span><span class="w">                                                                </span></del>
<del>//<span class="w">    </span><span class="n">placeDescription</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w">                                                     </span></del>
<del>//<span class="w">    </span><span class="n">cameraPositionState</span><span class="p">:</span><span class="w"> </span><span class="n">CameraPositionState</span><span class="p">,</span><span class="w">                                     </span></del>
<del>//<span class="w">    </span><span class="n">modifier</span><span class="p">:</span><span class="w"> </span><span class="n">Modifier</span><span class="p">,</span><span class="w">                                                           </span></del>
<del>//<span class="w"></span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                               </span></del>
<del>//<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">mapLoaded</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">remember</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">mutableStateOf</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w">                           </span></del>
<del>//<span class="w">                                                                                  </span></del>
<del>//<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">currentMapType</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">remember</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">mutableStateOf</span><span class="p">(</span><span class="n">MapType</span><span class="p">.</span><span class="na">NORMAL</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w">             </span></del>
<del>//<span class="w">                                                                                  </span></del>
<del>//<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">mapProperties</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">remember</span><span class="w"> </span><span class="p">{</span><span class="w">                                               </span></del>
<del>//<span class="w">        </span><span class="n">mutableStateOf</span><span class="p">(</span><span class="n">MapProperties</span><span class="p">(</span><span class="n">mapType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MapType</span><span class="p">.</span><span class="na">NORMAL</span><span class="p">))</span><span class="w">                   </span></del>
<del>//<span class="w">    </span><span class="p">}</span><span class="w">                                                                             </span></del>
<del>//<span class="w">                                                                                  </span></del>
<del>//<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">placeState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rememberMarkerState</span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">place</span><span class="p">.</span><span class="na">toString</span><span class="p">(),</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">place</span><span class="p">)</span><span class="w"></span></del>
<del>//<span class="w">                                                                                  </span></del>
<del>//<span class="w">    </span><span class="n">Box</span><span class="p">(</span><span class="w">                                                                          </span></del>
<del>//<span class="w">        </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modifier</span><span class="p">,</span><span class="w">                                                      </span></del>
<del>//<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                           </span></del>
<del>//<span class="w">        </span><span class="n">Column</span><span class="p">(</span><span class="w">                                                                   </span></del>
<del>//<span class="w">            </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxSize</span><span class="p">()</span><span class="w">                                     </span></del>
<del>//<span class="w">        </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                       </span></del>
<del>//<span class="w">            </span><span class="n">MapTypeSelector</span><span class="p">(</span><span class="w">                                                      </span></del>
<del>//<span class="w">                </span><span class="n">currentValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentMapType</span><span class="p">,</span><span class="w">                                    </span></del>
<del>//<span class="w">                </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxWidth</span><span class="p">(),</span><span class="w">                               </span></del>
<del>//<span class="w">            </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                   </span></del>
<del>//<span class="w">                </span><span class="n">mapProperties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapProperties</span><span class="p">.</span><span class="na">copy</span><span class="p">(</span><span class="n">mapType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">it</span><span class="p">)</span><span class="w">                  </span></del>
<del>//<span class="w">                </span><span class="n">currentMapType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">it</span><span class="w">                                               </span></del>
<del>//<span class="w">            </span><span class="p">}</span><span class="w">                                                                     </span></del>
<del>//<span class="w">            </span><span class="n">GoogleMap</span><span class="p">(</span><span class="w">                                                            </span></del>
<del>//<span class="w">                </span><span class="n">cameraPositionState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cameraPositionState</span><span class="p">,</span><span class="w">                        </span></del>
<del>//<span class="w">                </span><span class="n">onMapLoaded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">                                                   </span></del>
<del>//<span class="w">                    </span><span class="n">mapLoaded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w">                                              </span></del>
<del>//<span class="w">                </span><span class="p">},</span><span class="w">                                                                </span></del>
<del>//<span class="w">                </span><span class="n">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapProperties</span><span class="p">,</span><span class="w">                                       </span></del>
<del>//<span class="w">                </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxWidth</span><span class="p">().</span><span class="na">weight</span><span class="p">(</span><span class="m">1f</span><span class="p">),</span><span class="w">                    </span></del>
<del>//<span class="w">            </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                   </span></del>
<del>//<span class="w">                </span><span class="n">MarkerInfoWindowContent</span><span class="p">(</span><span class="w">                                          </span></del>
<del>//<span class="w">                    </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">placeState</span><span class="p">,</span><span class="w">                                           </span></del>
<del>//<span class="w">                    </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">placeDescription</span><span class="p">,</span><span class="w">                                     </span></del>
<del>//<span class="w">                </span><span class="p">)</span><span class="w">                                                                 </span></del>
<del>//<span class="w">            </span><span class="p">}</span><span class="w">                                                                     </span></del>
<del>//<span class="w">        </span><span class="p">}</span><span class="w">                                                                         </span></del>
<del>//<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">mapLoaded</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                         </span></del>
<del>//<span class="w">            </span><span class="n">AnimatedVisibility</span><span class="p">(</span><span class="w">                                                   </span></del>
<del>//<span class="w">                </span><span class="n">visible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">                                                   </span></del>
<del>//<span class="w">                </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxSize</span><span class="p">(),</span><span class="w">                                </span></del>
<del>//<span class="w">                </span><span class="n">enter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EnterTransition</span><span class="p">.</span><span class="na">None</span><span class="p">,</span><span class="w">                                     </span></del>
<del>//<span class="w">                </span><span class="n">exit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fadeOut</span><span class="p">()</span><span class="w">                                                  </span></del>
<del>//<span class="w">            </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                   </span></del>
<del>//<span class="w">                </span><span class="n">CircularProgressIndicator</span><span class="p">(</span><span class="w">                                        </span></del>
<del>//<span class="w">                    </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="w">                                           </span></del>
<del>//<span class="w">                        </span><span class="p">.</span><span class="na">background</span><span class="p">(</span><span class="n">MaterialTheme</span><span class="p">.</span><span class="na">colors</span><span class="p">.</span><span class="na">background</span><span class="p">)</span><span class="w">              </span></del>
<del>//<span class="w">                        </span><span class="p">.</span><span class="na">wrapContentSize</span><span class="p">()</span><span class="w">                                        </span></del>
<del>//<span class="w">                </span><span class="p">)</span><span class="w">                                                                 </span></del>
<del>//<span class="w">            </span><span class="p">}</span><span class="w">                                                                     </span></del>
<del>//<span class="w">        </span><span class="p">}</span><span class="w">                                                                         </span></del>
<del>//<span class="w">    </span><span class="p">}</span><span class="w">                                                                             </span></del>
<del>//<span class="w"></span><span class="p">}</span><span class="w">                                                                                 </span></del>
<ins><div class="highlight"><pre><span></span><span class="w">  </span><span class="k">package</span><span class="w"> </span><span class="nn">com.javadude.carfinder</span><span class="w">                                                                                                                                                                                          </span></ins>
<ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.Manifest</span><span class="w">                                                                                                                                                                                                 </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.annotation.SuppressLint</span><span class="w">                                                                                                                                                                                  </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.app.AlertDialog</span><span class="w">                                                                                                                                                                                          </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.content.Intent</span><span class="w">                                                                                                                                                                                           </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.content.pm.PackageManager</span><span class="w">                                                                                                                                                                                </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.location.Location</span><span class="w">                                                                                                                                                                                        </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.net.Uri</span><span class="w">                                                                                                                                                                                                  </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.os.Bundle</span><span class="w">                                                                                                                                                                                                </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.os.Looper</span><span class="w">                                                                                                                                                                                                </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.provider.Settings</span><span class="w">                                                                                                                                                                                        </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">android.widget.Toast</span><span class="w">                                                                                                                                                                                             </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.activity.ComponentActivity</span><span class="w">                                                                                                                                                                              </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.activity.compose.setContent</span><span class="w">                                                                                                                                                                             </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.activity.result.contract.ActivityResultContracts</span><span class="w">                                                                                                                                                        </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.activity.viewModels</span><span class="w">                                                                                                                                                                                     </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.animation.AnimatedVisibility</span><span class="w">                                                                                                                                                                    </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.animation.EnterTransition</span><span class="w">                                                                                                                                                                       </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.animation.fadeOut</span><span class="w">                                                                                                                                                                               </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.background</span><span class="w">                                                                                                                                                                           </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.layout.Box</span><span class="w">                                                                                                                                                                           </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.layout.Column</span><span class="w">                                                                                                                                                                        </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.layout.fillMaxSize</span><span class="w">                                                                                                                                                                   </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.layout.fillMaxWidth</span><span class="w">                                                                                                                                                                  </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.foundation.layout.wrapContentSize</span><span class="w">                                                                                                                                                               </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.material.CircularProgressIndicator</span><span class="w">                                                                                                                                                              </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.material.MaterialTheme</span><span class="w">                                                                                                                                                                          </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.material.Surface</span><span class="w">                                                                                                                                                                                </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.runtime.Composable</span><span class="w">                                                                                                                                                                              </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.runtime.collectAsState</span><span class="w">                                                                                                                                                                          </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.runtime.getValue</span><span class="w">                                                                                                                                                                                </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.runtime.mutableStateOf</span><span class="w">                                                                                                                                                                          </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.runtime.remember</span><span class="w">                                                                                                                                                                                </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.runtime.setValue</span><span class="w">                                                                                                                                                                                </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.ui.Modifier</span><span class="w">                                                                                                                                                                                     </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.ui.geometry.Offset</span><span class="w">                                                                                                                                                                              </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.compose.ui.res.stringResource</span><span class="w">                                                                                                                                                                           </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">androidx.core.app.ActivityCompat</span><span class="w">                                                                                                                                                                                 </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.android.gms.common.GoogleApiAvailability</span><span class="w">                                                                                                                                                              </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.android.gms.location.FusedLocationProviderClient</span><span class="w">                                                                                                                                                      </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.android.gms.location.LocationCallback</span><span class="w">                                                                                                                                                                 </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.android.gms.location.LocationRequest</span><span class="w">                                                                                                                                                                  </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.android.gms.location.LocationResult</span><span class="w">                                                                                                                                                                   </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.android.gms.location.LocationServices</span><span class="w">                                                                                                                                                                 </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.android.gms.location.Priority</span><span class="w">                                                                                                                                                                         </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.android.gms.maps.model.CameraPosition</span><span class="w">                                                                                                                                                                 </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.android.gms.maps.model.LatLng</span><span class="w">                                                                                                                                                                         </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.CameraPositionState</span><span class="w">                                                                                                                                                              </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.GoogleMap</span><span class="w">                                                                                                                                                                        </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.MapProperties</span><span class="w">                                                                                                                                                                    </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.MapType</span><span class="w">                                                                                                                                                                          </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.MarkerInfoWindowContent</span><span class="w">                                                                                                                                                          </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.MarkerState</span><span class="w">                                                                                                                                                                      </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.rememberCameraPositionState</span><span class="w">                                                                                                                                                      </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.google.maps.android.compose.rememberMarkerState</span><span class="w">                                                                                                                                                              </span></ins>
<ins><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="nn">com.javadude.carfinder.ui.theme.CarFinderTheme</span><span class="w">                                                                                                                                                                   </span></ins>
<ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<ins><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">googleHQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LatLng</span><span class="p">(</span><span class="m">37.42423291057923</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="m">122.08811454627153</span><span class="p">)</span><span class="w">                                                                                                                                                   </span></ins>
<div id="050-add-initial-position"><ins><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">defaultCameraPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CameraPosition</span><span class="p">.</span><span class="na">fromLatLngZoom</span><span class="p">(</span><span class="n">googleHQ</span><span class="p">,</span><span class="w"> </span><span class="m">11f</span><span class="p">)</span><span class="w">                                                                                                                                        </span></ins>
</div><ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<ins><span class="w">  </span><span class="kd">class</span><span class="w"> </span><span class="nc">MainActivity</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ComponentActivity</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                              </span></ins>
<ins><span class="w">      </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">viewModel</span><span class="p">:</span><span class="w"> </span><span class="n">CarViewModel</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">viewModels</span><span class="p">()</span><span class="w">                                                                                                                                                                 </span></ins>
<ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<div id="080-location-client-and-callback"><ins><span class="w">      </span><span class="kd">private</span><span class="w"> </span><span class="kd">lateinit</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">fusedLocationProviderClient</span><span class="p">:</span><span class="w"> </span><span class="n">FusedLocationProviderClient</span><span class="w">                                                                                                                                       </span></ins>
<ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<ins><span class="w">      </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">locationCallback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">object</span><span class="p">:</span><span class="w"> </span><span class="n">LocationCallback</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                         </span></ins>
<ins><span class="w">          </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">onLocationResult</span><span class="p">(</span><span class="n">locationResult</span><span class="p">:</span><span class="w"> </span><span class="n">LocationResult</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                 </span></ins>
<ins><span class="w">              </span><span class="n">viewModel</span><span class="p">.</span><span class="na">updateLocation</span><span class="p">(</span><span class="n">locationResult</span><span class="p">.</span><span class="na">lastLocation</span><span class="p">)</span><span class="w">                                                                                                                                                       </span></ins>
<ins><span class="w">          </span><span class="p">}</span><span class="w">                                                                                                                                                                                                               </span></ins>
<ins><span class="w">      </span><span class="p">}</span><span class="w">                                                                                                                                                                                                                   </span></ins>
</div><ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<div id="080-permission-launcher"><ins><span class="w">      </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">getLocationPermission</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">registerForActivityResult</span><span class="p">(</span><span class="n">ActivityResultContracts</span><span class="p">.</span><span class="na">RequestMultiplePermissions</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">isGranted</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">                                                                                  </span></ins>
<ins><span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isGranted</span><span class="p">.</span><span class="na">values</span><span class="p">.</span><span class="na">any</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                              </span></ins>
<ins><span class="w">              </span><span class="n">startLocationAndMap</span><span class="p">()</span><span class="w">                                                                                                                                                                                       </span></ins>
<ins><span class="w">          </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                                        </span></ins>
<ins><span class="w">              </span><span class="n">AlertDialog</span><span class="p">.</span><span class="na">Builder</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="w">                                                                                                                                                                                   </span></ins>
<ins><span class="w">                  </span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Permissions Needed&quot;</span><span class="p">)</span><span class="w">                                                                                                                                                                         </span></ins>
<ins><span class="w">                  </span><span class="p">.</span><span class="na">setMessage</span><span class="p">(</span><span class="s">&quot;We need coarse-location or fine-location permission to locate a car (fine location is highly recommended for accurate car locating). Please allow these permissions via App Info settings&quot;</span><span class="p">)</span><span class="w"></span></ins>
<ins><span class="w">                  </span><span class="p">.</span><span class="na">setCancelable</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="w">                                                                                                                                                                                   </span></ins>
<ins><span class="w">                  </span><span class="p">.</span><span class="na">setNegativeButton</span><span class="p">(</span><span class="s">&quot;Quit&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">finish</span><span class="p">()</span><span class="w"> </span><span class="p">}</span><span class="w">                                                                                                                                                          </span></ins>
<ins><span class="w">                  </span><span class="p">.</span><span class="na">setPositiveButton</span><span class="p">(</span><span class="s">&quot;App Info&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">                                                                                                                                                                 </span></ins>
<ins><span class="w">                      </span><span class="n">startActivity</span><span class="p">(</span><span class="w">                                                                                                                                                                                      </span></ins>
<ins><span class="w">                          </span><span class="n">Intent</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="na">ACTION_APPLICATION_DETAILS_SETTINGS</span><span class="p">).</span><span class="na">apply</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                    </span></ins>
<ins><span class="w">                              </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Uri</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;package:</span><span class="si">$</span><span class="n">packageName</span><span class="s">&quot;</span><span class="p">)</span><span class="w">                                                                                                                                                    </span></ins>
<ins><span class="w">                          </span><span class="p">}</span><span class="w">                                                                                                                                                                                               </span></ins>
<ins><span class="w">                      </span><span class="p">)</span><span class="w">                                                                                                                                                                                                   </span></ins>
<ins><span class="w">                      </span><span class="n">finish</span><span class="p">()</span><span class="w">                                                                                                                                                                                            </span></ins>
<ins><span class="w">                  </span><span class="p">}</span><span class="w">                                                                                                                                                                                                       </span></ins>
<ins><span class="w">                  </span><span class="p">.</span><span class="na">show</span><span class="p">()</span><span class="w">                                                                                                                                                                                                 </span></ins>
<ins><span class="w">          </span><span class="p">}</span><span class="w">                                                                                                                                                                                                               </span></ins>
<ins><span class="w">      </span><span class="p">}</span><span class="w">                                                                                                                                                                                                                   </span></ins>
</div><ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<ins><span class="w">      </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">:</span><span class="w"> </span><span class="n">Bundle?)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                </span></ins>
<ins><span class="w">          </span><span class="k">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w">                                                                                                                                                                              </span></ins>
<ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<div id="080-check-play-services"><ins><span class="w">          </span><span class="n">GoogleApiAvailability</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">makeGooglePlayServicesAvailable</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="w">                                                                                                                                       </span></ins>
<ins><span class="w">              </span><span class="p">.</span><span class="na">addOnSuccessListener</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                     </span></ins>
<div id="080-have-permission"><ins><span class="w">                  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ActivityCompat</span><span class="p">.</span><span class="na">checkSelfPermission</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">Manifest</span><span class="p">.</span><span class="na">permission</span><span class="p">.</span><span class="na">ACCESS_FINE_LOCATION</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">PackageManager</span><span class="p">.</span><span class="na">PERMISSION_GRANTED</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w">                                                                          </span></ins>
<ins><span class="w">                      </span><span class="n">ActivityCompat</span><span class="p">.</span><span class="na">checkSelfPermission</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">Manifest</span><span class="p">.</span><span class="na">permission</span><span class="p">.</span><span class="na">ACCESS_COARSE_LOCATION</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">PackageManager</span><span class="p">.</span><span class="na">PERMISSION_GRANTED</span><span class="w">                                                                           </span></ins>
<ins><span class="w">                  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                                     </span></ins>
<ins><span class="w">                      </span><span class="n">getLocationPermission</span><span class="p">.</span><span class="na">launch</span><span class="p">(</span><span class="n">arrayOf</span><span class="p">(</span><span class="n">Manifest</span><span class="p">.</span><span class="na">permission</span><span class="p">.</span><span class="na">ACCESS_FINE_LOCATION</span><span class="p">,</span><span class="w"> </span><span class="n">Manifest</span><span class="p">.</span><span class="na">permission</span><span class="p">.</span><span class="na">ACCESS_COARSE_LOCATION</span><span class="p">))</span><span class="w">                                                                         </span></ins>
<ins><span class="w">                  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                                </span></ins>
<ins><span class="w">                      </span><span class="n">startLocationAndMap</span><span class="p">()</span><span class="w">                                                                                                                                                                               </span></ins>
<ins><span class="w">                  </span><span class="p">}</span><span class="w">                                                                                                                                                                                                       </span></ins>
</div><ins><span class="w">              </span><span class="p">}.</span><span class="na">addOnFailureListener</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                              </span></ins>
<ins><span class="w">                  </span><span class="n">Toast</span><span class="p">.</span><span class="na">makeText</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Google Play services required (or upgrade required)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Toast</span><span class="p">.</span><span class="na">LENGTH_SHORT</span><span class="p">).</span><span class="na">show</span><span class="p">()</span><span class="w">                                                                                                  </span></ins>
<ins><span class="w">                  </span><span class="n">finish</span><span class="p">()</span><span class="w">                                                                                                                                                                                                </span></ins>
<ins><span class="w">              </span><span class="p">}</span><span class="w">                                                                                                                                                                                                           </span></ins>
</div><ins><span class="w">      </span><span class="p">}</span><span class="w">                                                                                                                                                                                                                   </span></ins>
<ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<ins><span class="w">      </span><span class="nd">@SuppressLint</span><span class="p">(</span><span class="s">&quot;MissingPermission&quot;</span><span class="p">)</span><span class="w">                                                                                                                                                                                  </span></ins>
<ins><span class="w">      </span><span class="kd">fun</span><span class="w"> </span><span class="nf">startLocationAndMap</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                         </span></ins>
<div id="080-request-location-updates"><ins><span class="w">          </span><span class="kd">val</span><span class="w"> </span><span class="nv">locationRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocationRequest</span><span class="p">.</span><span class="na">Builder</span><span class="p">(</span><span class="n">Priority</span><span class="p">.</span><span class="na">PRIORITY_HIGH_ACCURACY</span><span class="p">,</span><span class="w"> </span><span class="m">5000</span><span class="p">)</span><span class="w">                                                                                                                            </span></ins>
<ins><span class="w">              </span><span class="p">.</span><span class="na">setWaitForAccurateLocation</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="w">                                                                                                                                                                          </span></ins>
<ins><span class="w">              </span><span class="p">.</span><span class="na">setMinUpdateIntervalMillis</span><span class="p">(</span><span class="m">0</span><span class="p">)</span><span class="w">                                                                                                                                                                              </span></ins>
<ins><span class="w">              </span><span class="p">.</span><span class="na">setMaxUpdateDelayMillis</span><span class="p">(</span><span class="m">5000</span><span class="p">)</span><span class="w">                                                                                                                                                                              </span></ins>
<ins><span class="w">              </span><span class="p">.</span><span class="na">build</span><span class="p">()</span><span class="w">                                                                                                                                                                                                    </span></ins>
<ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<ins><span class="w">          </span><span class="n">fusedLocationProviderClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocationServices</span><span class="p">.</span><span class="na">getFusedLocationProviderClient</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="w">                                                                                                                             </span></ins>
<ins><span class="w">          </span><span class="n">fusedLocationProviderClient</span><span class="p">.</span><span class="na">requestLocationUpdates</span><span class="p">(</span><span class="w">                                                                                                                                                             </span></ins>
<ins><span class="w">              </span><span class="n">locationRequest</span><span class="p">,</span><span class="w">                                                                                                                                                                                            </span></ins>
<ins><span class="w">              </span><span class="n">locationCallback</span><span class="p">,</span><span class="w">                                                                                                                                                                                           </span></ins>
<ins><span class="w">              </span><span class="n">Looper</span><span class="p">.</span><span class="na">getMainLooper</span><span class="p">()</span><span class="w">                                                                                                                                                                                      </span></ins>
<ins><span class="w">          </span><span class="p">)</span><span class="w">                                                                                                                                                                                                               </span></ins>
</div><ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<ins><span class="w">          </span><span class="n">setContent</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                                    </span></ins>
<ins><span class="w">              </span><span class="n">CarFinderTheme</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                            </span></ins>
<ins><span class="w">                  </span><span class="c1">// A surface container using the &#39;background&#39; color from the theme                                                                                                                                      </span><span class="w"></span></ins>
<ins><span class="w">                  </span><span class="n">Surface</span><span class="p">(</span><span class="w">                                                                                                                                                                                                </span></ins>
<ins><span class="w">                      </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxSize</span><span class="p">(),</span><span class="w">                                                                                                                                                                  </span></ins>
<ins><span class="w">                      </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MaterialTheme</span><span class="p">.</span><span class="na">colors</span><span class="p">.</span><span class="na">background</span><span class="w">                                                                                                                                                             </span></ins>
<ins><span class="w">                  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                                     </span></ins>
<div id="050-camera-position-state"><ins><span class="w">                      </span><span class="kd">val</span><span class="w"> </span><span class="nv">cameraPositionState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rememberCameraPositionState</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                             </span></ins>
<ins><span class="w">                          </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">defaultCameraPosition</span><span class="w">                                                                                                                                                                </span></ins>
<ins><span class="w">                      </span><span class="p">}</span><span class="w">                                                                                                                                                                                                   </span></ins>
</div><ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<div id="080-collect-location-state"><ins><span class="w">                      </span><span class="kd">val</span><span class="w"> </span><span class="nv">currentLocation</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="na">currentLocation</span><span class="p">.</span><span class="na">collectAsState</span><span class="p">(</span><span class="n">initial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w">                                                                                                                     </span></ins>
</div><ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<div id="040-factor-map"><ins><span class="w">                      </span><span class="n">GoogleMapDisplay</span><span class="p">(</span><span class="w">                                                                                                                                                                                   </span></ins>
<ins><span class="w">                          </span><span class="n">currentLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentLocation</span><span class="p">,</span><span class="w">                                                                                                                                                              </span></ins>
<ins><span class="w">                          </span><span class="n">place</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">googleHQ</span><span class="p">,</span><span class="w">                                                                                                                                                                               </span></ins>
<ins><span class="w">                          </span><span class="n">placeDescription</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Google HQ&quot;</span><span class="p">,</span><span class="w">                                                                                                                                                                 </span></ins>
<ins><span class="w">                          </span><span class="n">cameraPositionState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cameraPositionState</span><span class="p">,</span><span class="w">                                                                                                                                                      </span></ins>
<ins><span class="w">                          </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxSize</span><span class="p">(),</span><span class="w">                                                                                                                                                              </span></ins>
<ins><span class="w">                      </span><span class="p">)</span><span class="w">                                                                                                                                                                                                   </span></ins>
</div><ins><span class="w">                  </span><span class="p">}</span><span class="w">                                                                                                                                                                                                       </span></ins>
<ins><span class="w">              </span><span class="p">}</span><span class="w">                                                                                                                                                                                                           </span></ins>
<ins><span class="w">          </span><span class="p">}</span><span class="w">                                                                                                                                                                                                               </span></ins>
<ins><span class="w">      </span><span class="p">}</span><span class="w">                                                                                                                                                                                                                   </span></ins>
<ins><span class="w">  </span><span class="p">}</span><span class="w">                                                                                                                                                                                                                       </span></ins>
<ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<div id="040-new-map-composable"><ins><span class="w">  </span><span class="nd">@Composable</span><span class="w">                                                                                                                                                                                                             </span></ins>
<ins><span class="w">  </span><span class="kd">fun</span><span class="w"> </span><span class="nf">GoogleMapDisplay</span><span class="p">(</span><span class="w">                                                                                                                                                                                                   </span></ins>
<ins><span class="w">      </span><span class="n">currentLocation</span><span class="p">:</span><span class="w"> </span><span class="n">Location?,</span><span class="w">                                                                                                                                                                                         </span></ins>
<ins><span class="w">      </span><span class="n">place</span><span class="p">:</span><span class="w"> </span><span class="n">LatLng</span><span class="p">,</span><span class="w">                                                                                                                                                                                                      </span></ins>
<ins><span class="w">      </span><span class="n">placeDescription</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w">                                                                                                                                                                                           </span></ins>
<ins><span class="w">      </span><span class="n">cameraPositionState</span><span class="p">:</span><span class="w"> </span><span class="n">CameraPositionState</span><span class="p">,</span><span class="w">                                                                                                                                                                           </span></ins>
<ins><span class="w">      </span><span class="n">modifier</span><span class="p">:</span><span class="w"> </span><span class="n">Modifier</span><span class="p">,</span><span class="w">                                                                                                                                                                                                 </span></ins>
<ins><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                                                     </span></ins>
<div id="060-marker-state-holder"><ins><span class="w">      </span><span class="kd">var</span><span class="w"> </span><span class="nv">mapLoaded</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">remember</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">mutableStateOf</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w">                                                                                                                                                                 </span></ins>
</div><ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<div id="070-current-map-type"><ins><span class="w">      </span><span class="kd">var</span><span class="w"> </span><span class="nv">currentMapType</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">remember</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">mutableStateOf</span><span class="p">(</span><span class="n">MapType</span><span class="p">.</span><span class="na">NORMAL</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w">                                                                                                                                                   </span></ins>
<ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<ins><span class="w">      </span><span class="kd">var</span><span class="w"> </span><span class="nv">mapProperties</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">remember</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                     </span></ins>
<ins><span class="w">          </span><span class="n">mutableStateOf</span><span class="p">(</span><span class="n">MapProperties</span><span class="p">(</span><span class="n">mapType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MapType</span><span class="p">.</span><span class="na">NORMAL</span><span class="p">))</span><span class="w">                                                                                                                                                         </span></ins>
<ins><span class="w">      </span><span class="p">}</span><span class="w">                                                                                                                                                                                                                   </span></ins>
</div><ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<div id="040-marker-state-holder"><ins><span class="w">      </span><span class="kd">val</span><span class="w"> </span><span class="nv">placeState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rememberMarkerState</span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">place</span><span class="p">.</span><span class="na">toString</span><span class="p">(),</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">place</span><span class="p">)</span><span class="w">                                                                                                                                      </span></ins>
</div><ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<div id="080-current-location-state"><ins><span class="w">      </span><span class="kd">val</span><span class="w"> </span><span class="nv">currentLocationState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">remember</span><span class="p">(</span><span class="n">currentLocation</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                              </span></ins>
<ins><span class="w">          </span><span class="n">currentLocation</span><span class="o">?.</span><span class="na">let</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">MarkerState</span><span class="p">(</span><span class="n">LatLng</span><span class="p">(</span><span class="nb">it</span><span class="p">.</span><span class="na">latitude</span><span class="p">,</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">longitude</span><span class="p">))</span><span class="w"> </span><span class="p">}</span><span class="w">                                                                                                                                         </span></ins>
<ins><span class="w">      </span><span class="p">}</span><span class="w">                                                                                                                                                                                                                   </span></ins>
</div><ins><span class="w">                                                                                                                                                                                                                          </span></ins>
<div id="060-wrap-map"><ins><span class="w">      </span><span class="n">Box</span><span class="p">(</span><span class="w">                                                                                                                                                                                                                </span></ins>
<div id="060-top-level-modifier"><ins><span class="w">          </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modifier</span><span class="p">,</span><span class="w">                                                                                                                                                                                            </span></ins>
</div><ins><span class="w">      </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                                                 </span></ins>
</div><div id="070-column"><ins><span class="w">          </span><span class="n">Column</span><span class="p">(</span><span class="w">                                                                                                                                                                                                         </span></ins>
<ins><span class="w">              </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxSize</span><span class="p">()</span><span class="w">                                                                                                                                                                           </span></ins>
<ins><span class="w">          </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                                             </span></ins>
<ins><span class="w">              </span><span class="n">MapTypeSelector</span><span class="p">(</span><span class="w">                                                                                                                                                                                            </span></ins>
<ins><span class="w">                  </span><span class="n">currentValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentMapType</span><span class="p">,</span><span class="w">                                                                                                                                                                          </span></ins>
<ins><span class="w">                  </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxWidth</span><span class="p">(),</span><span class="w">                                                                                                                                                                     </span></ins>
<ins><span class="w">              </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                                         </span></ins>
<ins><span class="w">                  </span><span class="n">mapProperties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapProperties</span><span class="p">.</span><span class="na">copy</span><span class="p">(</span><span class="n">mapType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">it</span><span class="p">)</span><span class="w">                                                                                                                                                        </span></ins>
<ins><span class="w">                  </span><span class="n">currentMapType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">it</span><span class="w">                                                                                                                                                                                     </span></ins>
<ins><span class="w">              </span><span class="p">}</span><span class="w">                                                                                                                                                                                                           </span></ins>
</div><ins><span class="w">              </span><span class="n">GoogleMap</span><span class="p">(</span><span class="w">                                                                                                                                                                                                  </span></ins>
<div id="050-use-camera-position-state"><ins><span class="w">                  </span><span class="n">cameraPositionState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cameraPositionState</span><span class="p">,</span><span class="w">                                                                                                                                                              </span></ins>
</div><div id="060-set-mapLoaded"><ins><span class="w">                  </span><span class="n">onMapLoaded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                         </span></ins>
<ins><span class="w">                      </span><span class="n">mapLoaded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w">                                                                                                                                                                                    </span></ins>
<ins><span class="w">                  </span><span class="p">},</span><span class="w">                                                                                                                                                                                                      </span></ins>
</div><div id="070-pass-properties"><ins><span class="w">                  </span><span class="n">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapProperties</span><span class="p">,</span><span class="w">                                                                                                                                                                             </span></ins>
</div><div id="040-map-modifier"><div id="060-map-modifier-change"><div id="070-map-weight"><ins><span class="w">                  </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxWidth</span><span class="p">().</span><span class="na">weight</span><span class="p">(</span><span class="m">1f</span><span class="p">),</span><span class="w">                                                                                                                                                          </span></ins>
</div></div></div><ins><span class="w">              </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                                         </span></ins>
<div id="080-marker"><ins><span class="w">                  </span><span class="n">currentLocationState</span><span class="o">?.</span><span class="na">let</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                             </span></ins>
<ins><span class="w">                      </span><span class="n">MarkerInfoWindowContent</span><span class="p">(</span><span class="w">                                                                                                                                                                            </span></ins>
<ins><span class="w">                          </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">it</span><span class="p">,</span><span class="w">                                                                                                                                                                                     </span></ins>
<ins><span class="w">                          </span><span class="n">anchor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Offset</span><span class="p">(</span><span class="m">0.5f</span><span class="p">,</span><span class="w"> </span><span class="m">0.5f</span><span class="p">),</span><span class="w">                                                                                                                                                                    </span></ins>
<ins><span class="w">                          </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stringResource</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">string</span><span class="p">.</span><span class="na">current_location</span><span class="p">),</span><span class="w">                                                                                                                                         </span></ins>
<ins><span class="w">                      </span><span class="p">)</span><span class="w">                                                                                                                                                                                                   </span></ins>
<ins><span class="w">                  </span><span class="p">}</span><span class="w">                                                                                                                                                                                                       </span></ins>
</div><ins><span class="w">              </span><span class="p">}</span><span class="w">                                                                                                                                                                                                           </span></ins>
<ins><span class="w">          </span><span class="p">}</span><span class="w">                                                                                                                                                                                                               </span></ins>
<div id="060-progress-spinner"><ins><span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">mapLoaded</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                               </span></ins>
<ins><span class="w">              </span><span class="n">AnimatedVisibility</span><span class="p">(</span><span class="w">                                                                                                                                                                                         </span></ins>
<ins><span class="w">                  </span><span class="n">visible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">                                                                                                                                                                                         </span></ins>
<ins><span class="w">                  </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="p">.</span><span class="na">fillMaxSize</span><span class="p">(),</span><span class="w">                                                                                                                                                                      </span></ins>
<ins><span class="w">                  </span><span class="n">enter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EnterTransition</span><span class="p">.</span><span class="na">None</span><span class="p">,</span><span class="w">                                                                                                                                                                           </span></ins>
<ins><span class="w">                  </span><span class="n">exit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fadeOut</span><span class="p">()</span><span class="w">                                                                                                                                                                                        </span></ins>
<ins><span class="w">              </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                                                                                                                                                                         </span></ins>
<ins><span class="w">                  </span><span class="n">CircularProgressIndicator</span><span class="p">(</span><span class="w">                                                                                                                                                                              </span></ins>
<ins><span class="w">                      </span><span class="n">modifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Modifier</span><span class="w">                                                                                                                                                                                 </span></ins>
<ins><span class="w">                          </span><span class="p">.</span><span class="na">background</span><span class="p">(</span><span class="n">MaterialTheme</span><span class="p">.</span><span class="na">colors</span><span class="p">.</span><span class="na">background</span><span class="p">)</span><span class="w">                                                                                                                                                    </span></ins>
<ins><span class="w">                          </span><span class="p">.</span><span class="na">wrapContentSize</span><span class="p">()</span><span class="w">                                                                                                                                                                              </span></ins>
<ins><span class="w">                  </span><span class="p">)</span><span class="w">                                                                                                                                                                                                       </span></ins>
<ins><span class="w">              </span><span class="p">}</span><span class="w">                                                                                                                                                                                                           </span></ins>
<ins><span class="w">          </span><span class="p">}</span><span class="w">                                                                                                                                                                                                               </span></ins>
</div><ins><span class="w">      </span><span class="p">}</span><span class="w">                                                                                                                                                                                                                   </span></ins>
<ins><span class="w">  </span><span class="p">}</span><span class="w">                                                                                                                                                                                                                       </span></ins>
</div></pre></div>
</div>
</details>
<details class="example" open>
<summary>CHANGED: /app/src/main/res/values/strings.xml</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/res/values/strings.xml';">
<div class="highlight"><pre><del>//<span></span>  <span class="nt">&lt;resources&gt;</span>                                   </del>
<del>//    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;app_name&quot;</span><span class="nt">&gt;</span>CarFinder<span class="nt">&lt;/string&gt;</span></del>
<del>//    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;map_type&quot;</span><span class="nt">&gt;</span>Map Type<span class="nt">&lt;/string&gt;</span> </del>
<del>//<span class="nt">&lt;/resources&gt;</span>                                  </del>
<ins><div class="highlight"><pre><span></span>  <span class="nt">&lt;resources&gt;</span>                                                  </ins>
<ins>      <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;app_name&quot;</span><span class="nt">&gt;</span>CarFinder<span class="nt">&lt;/string&gt;</span>               </ins>
<ins>      <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;map_type&quot;</span><span class="nt">&gt;</span>Map Type<span class="nt">&lt;/string&gt;</span>                </ins>
<ins>      <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;current_location&quot;</span><span class="nt">&gt;</span>Current Location<span class="nt">&lt;/string&gt;</span></ins>
<ins>  <span class="nt">&lt;/resources&gt;</span>                                                 </ins>
</pre></div>
</div>
</details>
  
</div>

            </article>
            
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="STEP_070_REPO.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Map Types" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Map Types
            </div>
          </div>
        </a>
      
      <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
          <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Scott Stanchfield. All content licensed <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International (CC BY 4.0)</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
          
        </div>
      </div>    
      
        
        <a href="STEP_090_REPO.html" class="md-footer__link md-footer__link--next" aria-label="Next: Jump to Current Location" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Jump to Current Location
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.top", "search.suggest", "search.highlight", "navigation.instant", "navigation.tracking", "navigation.sections", "toc.integrate", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>