
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://androidbyexample.com/modules/movie-ui-2/STEP_070_REPO.html">
      
      
        <link rel="prev" href="STEP_060_REPO.html">
      
      
        <link rel="next" href="STEP_080_REPO.html">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.1, mkdocs-material-9.1.21">
    
    
      
        <title>Add Actors and Ratings - Android By Example</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.eebd395e.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v288c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v288c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v288c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128z"/></svg>');}</style>


    
    
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
<!--<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">-->

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Android By Example" class="md-header__button md-logo" aria-label="Android By Example" data-md-component="logo">
      
  <img src="../../android.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Android By Example
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Add Actors and Ratings
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
<!--    <div class="md-sidebar md-sidebar&#45;&#45;primary" data-md-component="sidebar" data-md-type="navigation">-->
<div class="md-sidebar md-sidebar--primary" data-md-type="navigation">
    <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner">
            


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Android By Example" class="md-nav__button md-logo" aria-label="Android By Example" data-md-component="logo">
      
  <img src="../../android.png" alt="logo">

    </a>
    Android By Example
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/STEP_01_FULL.html" class="md-nav__link">
        About This Site
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/STEP_02_FULL.html" class="md-nav__link">
        About Your Instructor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/STEP_04_FULL.html" class="md-nav__link">
        Content License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/STEP_05_FULL.html" class="md-nav__link">
        Source Code License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/STEP_09_FULL.html" class="md-nav__link">
        Welcome!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/STEP_10_FULL.html" class="md-nav__link">
        Course Hardware and Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/STEP_20_FULL.html" class="md-nav__link">
        Assignments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/STEP_30_FULL.html" class="md-nav__link">
        Grading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/STEP_40_FULL.html" class="md-nav__link">
        Using Third-Party and Course Sample Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Week 1 (8/31-9/6)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Week 1 (8/31-9/6)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../kotlin-primer/index.html">Kotlin Primer</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Kotlin Primer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../architecture/index.html">Architecture</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Architecture
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../android-studio/index.html">Android Studio</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Android Studio
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Week 2 (9/7-9/13)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Week 2 (9/7-9/13)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../compose-concepts/index.html">Jetpack Compose Concepts</a>
          
            <label for="__nav_3_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Jetpack Compose Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compose-concepts/STEP_020_FULL.html" class="md-nav__link">
        Composable Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compose-concepts/STEP_030_FULL.html" class="md-nav__link">
        String literals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compose-concepts/STEP_040_FULL.html" class="md-nav__link">
        State
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compose-concepts/STEP_050_FULL.html" class="md-nav__link">
        Compose Optimizations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compose-concepts/STEP_060_FULL.html" class="md-nav__link">
        Where do you store state?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compose-concepts/STEP_070_FULL.html" class="md-nav__link">
        Density
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../movie-ui-1/index.html">Initial Movies UI</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Initial Movies UI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-ui-1/STEP_020_REPO.html" class="md-nav__link">
        Update versions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-ui-1/STEP_030_REPO.html" class="md-nav__link">
        Create data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-ui-1/STEP_040_REPO.html" class="md-nav__link">
        Create initial screens
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-ui-1/STEP_050_REPO.html" class="md-nav__link">
        Flesh out the screens
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Week 3 (9/14-9/20)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Week 3 (9/14-9/20)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../room/index.html">Room</a>
          
            <label for="__nav_4_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Room
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../room/STEP_10_FULL.html" class="md-nav__link">
        Relationships
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../room/STEP_20_FULL.html" class="md-nav__link">
        Room Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../room/STEP_25_FULL.html" class="md-nav__link">
        Room Relations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../room/STEP_30_FULL.html" class="md-nav__link">
        Suspending Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../room/STEP_40_FULL.html" class="md-nav__link">
        The Repository
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../movie-db/index.html">Movies Database</a>
          
            <label for="__nav_4_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Movies Database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-db/STEP_020_REPO.html" class="md-nav__link">
        Add new modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-db/STEP_030_REPO.html" class="md-nav__link">
        Add Room dependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-db/STEP_040_REPO.html" class="md-nav__link">
        Module Dependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-db/STEP_050_REPO.html" class="md-nav__link">
        Entities, DAO and Database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-db/STEP_060_REPO.html" class="md-nav__link">
        Repository Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-db/STEP_070_REPO.html" class="md-nav__link">
        Modifying the view model to use real data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-db/STEP_080_REPO.html" class="md-nav__link">
        Fix movie list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-db/STEP_090_REPO.html" class="md-nav__link">
        Fetch data for movie display
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-db/STEP_100_FULL.html" class="md-nav__link">
        Viewing the Database
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Week 4 (9/21-9/27)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Week 4 (9/21-9/27)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../compose-lists/index.html">Compose Lists</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          Compose Lists
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="index.html">Movies UI - Lists</a>
          
            <label for="__nav_5_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Movies UI - Lists
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_020_REPO.html" class="md-nav__link">
        Convert to LazyColumn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_030_REPO.html" class="md-nav__link">
        Selection Tracking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_040_REPO.html" class="md-nav__link">
        Selections in the UI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_050_REPO.html" class="md-nav__link">
        Contextual Top Bar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_060_REPO.html" class="md-nav__link">
        Refactor time!
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
      <a href="STEP_070_REPO.html" class="md-nav__link md-nav__link--active">
        Add Actors and Ratings
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_080_REPO.html" class="md-nav__link">
        Better Movie Icon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="STEP_090_FULL.html" class="md-nav__link">
        Wrapup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Week 5 (9/28-10/4)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Week 5 (9/28-10/4)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../compose-text-fields/index.html">Compose Text Fields</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          Compose Text Fields
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../movie-ui-3/index.html">Movies UI - Updates</a>
          
            <label for="__nav_6_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Movies UI - Updates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-ui-3/STEP_020_REPO.html" class="md-nav__link">
        Display-screen list cleanup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-ui-3/STEP_030_REPO.html" class="md-nav__link">
        Deleting from the display screens
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-ui-3/STEP_040_REPO.html" class="md-nav__link">
        Editing a movie
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Week 6 (10/5-10/11)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Week 6 (10/5-10/11)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_1" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../movie-widget/index.html">Movies Widget</a>
          
            <label for="__nav_7_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          Movies Widget
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-widget/STEP_020_REPO.html" class="md-nav__link">
        Widget Declaration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-widget/STEP_030_REPO.html" class="md-nav__link">
        Widget UI and Data
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../speech/index.html">Speech</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Speech
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Week 7 (10/12-10/18)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Week 7 (10/12-10/18)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_1" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../google-map/index.html">Google Map</a>
          
            <label for="__nav_8_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8_1">
          <span class="md-nav__icon md-icon"></span>
          Google Map
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_022_FULL.html" class="md-nav__link">
        Find Your Fingerprint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_025_FULL.html" class="md-nav__link">
        Google Console Project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_030_REPO.html" class="md-nav__link">
        Set up a map
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_040_REPO.html" class="md-nav__link">
        Add a Marker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_050_REPO.html" class="md-nav__link">
        Initial Position
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_060_REPO.html" class="md-nav__link">
        Loading Spinner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_070_REPO.html" class="md-nav__link">
        Map Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_080_REPO.html" class="md-nav__link">
        Current Location
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_090_REPO.html" class="md-nav__link">
        Jump to Current Location
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_100_REPO.html" class="md-nav__link">
        Add Top Bar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_110_REPO.html" class="md-nav__link">
        Copy Icons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_120_REPO.html" class="md-nav__link">
        Manage Car Location
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_130_REPO.html" class="md-nav__link">
        Dragging a Marker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_140_REPO.html" class="md-nav__link">
        Navigating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../google-map/STEP_150_REPO.html" class="md-nav__link">
        Lat/Lon Bounds
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_2" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../movie-rest/index.html">REST services</a>
          
            <label for="__nav_8_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8_2">
          <span class="md-nav__icon md-icon"></span>
          REST services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../movie-rest/STEP_020_REPO.html" class="md-nav__link">
        Changes for REST
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Week 8 (10/19-10/25)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Week 8 (10/19-10/25)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../compose-graphics-1/index.html">Compose Graphics Part 1</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_1">
          <span class="md-nav__icon md-icon"></span>
          Compose Graphics Part 1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
        </div>
    </div>
</div>

          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
<div class="sas1-text-column">

<h1>Movies UI - Lists</h1>

<h2>Add Actors and Ratings</h2>
    
<p>To flesh out the app more, let's add in Actors and Ratings.</p>
<p>First, to make things simpler for the other lists, we 
<a class="find-button" href="#070-list-scaffold">create a <code>ListScaffold</code></a>
and 
<a class="find-button" href="#070-movie-list-using-list-scaffold">use it in <code>MovieListUi</code></a></p>
<p>Now we add the new screens. These new screens are similar to the existing screens, but be careful of where you get the ids from. The <code>MovieDisplayUi</code>, for example, displays a list of <code>RoleWithActorDto</code>s, and when clicked, we need to call <code>it.actor.id</code> to get the proper id. (If you use just <code>it.id</code> here, the fetch will fail when looking up the actor)</p>
<ul>
<li>Create the new <a class="find-button" href="#070-new-screens">screen data</a></li>
<li>Create the 
    <a class="find-button" href="#070-actor-list">actor list</a> and
    <a class="find-button" href="#070-rating-list">rating list</a> screens</li>
<li>Create the 
    <a class="find-button" href="#070-actor-display">actor display</a> and
    <a class="find-button" href="#070-rating-display">rating display</a> screens</li>
<li>Define the <a class="find-button" href="#070-new-screen-text">necessary strings</a></li>
<li>Add the new 
    <a class="find-button" href="#070-new-displays">display</a> and
    <a class="find-button" href="#070-new-lists">list</a> screen calls to <code>Ui</code></li>
</ul>
<p>When we run this version of the application, we can now drill deeper into the data. Pick a movie, then pick an actor, then pick movies starring that actor and so forth. Navigating back pops each screen off the stack, returning to the previous screen.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We're still using a Star icon for movies. We'll pick a better icon in the final step.</p>
</div>
<p>You'll notice that we currently have no means of navigating to the actor and rating list screens. To do this, we'll add tabs at the bottom of the list screens to jump to other lists.</p>
<p>Navigation-wise, we'll treat each of these jumps as restarting navigation, replacing the stack with the destination. This isn't necessary, but I wanted to demonstrate a navigation alternative.</p>
<p>At the bottom of the list scaffold we'll place three buttons which act like tabs.</p>
<p>We define <a class="find-button" href="#070-screen-button"><code>ScreenSelectButton</code></a> for these tabs.</p>
<p>Each tab takes a <code>Screen</code> as its target, and calls <code>onSelectListScreen()</code> passing that target screen when clicked. We use <code>NavigationBarItem</code>, provided by the Material 3 library, for the tab-like styling.</p>
<p>We place these buttons in a <a class="find-button" href="#070-nav-bar"><code>NavigationBar</code></a> in the <code>bottomBar</code> slot of the <code>Scaffold</code>. Once again, continue using a star as the icon for movies. We'll fix this in the next step.</p>
<p>These buttons require some extra parameters to track which is selected (<code>currentScreen</code>) and what to do when they're clicked (<code>onSelectListScreen</code>). We pass these up to all callers up through <code>Ui</code>.</p>
<p>We set these extra parameters in <code>Ui</code>; for example <a class="find-button" href="#070-extra-params">when calling <code>MovieListUi</code></a>. Note that this requires a new function in the view model to <a class="find-button" href="#070-set-screen">explicitly set the screen stack</a>.</p>
<p>This creates a nice Ui that allows us to navigate starting from movies, actors or ratings. The screen tabs could be moved into a common base scaffold for all screens to allow instant jumping to a list from any screen (I'll leave that as an "exercise for the interested reader").</p>
<p>Now let's get a better movie icon...</p>
  
</div>
  
<div class="sas1-code-column">
  
<h2>Code Changes</h2>
  
<details class="example" open>
<summary>CHANGED: /app/src/main/java/com/androidbyexample/movie/MovieViewModel.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/androidbyexample/movie/MovieViewModel.kt';">
<div class='sas1-code-block'>
<pre>package com.androidbyexample.movie

import androidx.compose.runtime.getValue
import androidx.compose.runtime.mutableStateOf
import androidx.compose.runtime.setValue
import androidx.lifecycle.ViewModel
import androidx.lifecycle.ViewModelProvider
import androidx.lifecycle.viewModelScope
import androidx.lifecycle.viewmodel.CreationExtras
import com.androidbyexample.movie.repository.MovieDatabaseRepository
import com.androidbyexample.movie.repository.MovieRepository
import com.androidbyexample.movie.screens.MovieList
import com.androidbyexample.movie.screens.Screen
import kotlinx.coroutines.flow.Flow
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.asStateFlow
import kotlinx.coroutines.launch

class MovieViewModel(
    private val repository: MovieRepository,
): ViewModel(), MovieRepository by repository {
<div id="030-add-selection-to-vm">    private val _selectedIdsFlow = MutableStateFlow&lt;Set&lt;String&gt;&gt;(emptySet())
    val selectedIdsFlow: Flow&lt;Set&lt;String&gt;&gt; = _selectedIdsFlow.asStateFlow()
</div>
<div id="030-selection-management">    fun clearSelectedIds() {
        _selectedIdsFlow.value = emptySet()
    }
    fun toggleSelection(id: String) {
        if (id in _selectedIdsFlow.value) {
            _selectedIdsFlow.value -= id
        } else {
            _selectedIdsFlow.value += id
        }
    }
</div>
    private var screenStack = listOf&lt;Screen&gt;(MovieList)
        set(value) {
            field = value
<div id="030-clear-on-screen-change">            clearSelectedIds()
</div>            currentScreen = value.lastOrNull()
        }

<div id="030-current-screen">    // NOTE: We're keep this as a Compose State for comparison.
    //       You can use Compose state to expose anything from the view model,
    //       but our example will be using Flow from now on to demonstrate how
    //       the view model can be used without Compose, perhaps for other
    //       platforms such as iOS, desktop, web or command line
    var currentScreen by mutableStateOf&lt;Screen?&gt;(MovieList)
        private set
</div>
    fun pushScreen(screen: Screen) {
        screenStack = screenStack + screen
    }
    fun popScreen() {
        screenStack = screenStack.dropLast(1)
    }

<div id="070-set-screen"><ins>    fun setScreen(screen: Screen) {</ins><ins>        screenStack = listOf(screen)</ins><ins>    }</ins></div><ins></ins><div id="050-vm-delete-selected-x">    fun deleteSelectedMovies() {
        viewModelScope.launch {
            deleteMoviesById(_selectedIdsFlow.value)
            _selectedIdsFlow.value = emptySet()
        }
    }
    fun deleteSelectedActors() {
        viewModelScope.launch {
            deleteActorsById(_selectedIdsFlow.value)
            _selectedIdsFlow.value = emptySet()
        }
    }
    fun deleteSelectedRatings() {
        viewModelScope.launch {
            deleteRatingsById(_selectedIdsFlow.value)
            _selectedIdsFlow.value = emptySet()
        }
    }
</div>
    companion object {
        val Factory: ViewModelProvider.Factory = object: ViewModelProvider.Factory {
            @Suppress(&quot;UNCHECKED_CAST&quot;)
            override fun &lt;T : ViewModel&gt; create(
                modelClass: Class&lt;T&gt;,
                extras: CreationExtras
            ): T {
                // Get the Application object from extras
                val application = checkNotNull(extras[ViewModelProvider.AndroidViewModelFactory.APPLICATION_KEY])
                return MovieViewModel(
                    MovieDatabaseRepository.create(application)
                ) as T
            }
        }
    }
}
</pre>
</div>
</div>
</details>
<details class="example" open>
<summary>CHANGED: /app/src/main/java/com/androidbyexample/movie/components/Label.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/androidbyexample/movie/components/Label.kt';">
<div class='sas1-code-block'>
<pre>package com.androidbyexample.movie.components

import androidx.annotation.StringRes
import androidx.compose.foundation.layout.fillMaxWidth
import androidx.compose.foundation.layout.padding
import androidx.compose.material3.MaterialTheme
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.res.stringResource
import androidx.compose.ui.unit.dp

@Composable
fun Label(
    @StringRes textId: Int,
<ins>) {</ins><ins>    Label(text = stringResource(id = textId))</ins><ins>}</ins><ins></ins><ins>@Composable</ins><ins>fun Label(</ins><ins>    text: String,</ins>) {
    Text(
<del>//      text = stringResource(id = textId),</del><ins>        text = text,</ins>        style = MaterialTheme.typography.titleMedium,
        modifier = Modifier
            .padding(8.dp)
            .fillMaxWidth(),
    )
}
</pre>
</div>
</div>
</details>
<details class="success" open>
<summary>ADDED: /app/src/main/java/com/androidbyexample/movie/components/ScreenSelectButton.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/androidbyexample/movie/components/ScreenSelectButton.kt';">
<div class='sas1-code-block'>
<pre><ins>package com.androidbyexample.movie.components</ins><ins></ins><ins>import androidx.annotation.StringRes</ins><ins>import androidx.compose.foundation.layout.RowScope</ins><ins>import androidx.compose.material3.Icon</ins><ins>import androidx.compose.material3.NavigationBarItem</ins><ins>import androidx.compose.material3.Text</ins><ins>import androidx.compose.runtime.Composable</ins><ins>import androidx.compose.ui.graphics.vector.ImageVector</ins><ins>import androidx.compose.ui.res.stringResource</ins><ins>import com.androidbyexample.movie.screens.Screen</ins><ins></ins><div id="070-screen-button"><ins>@Composable</ins><ins>fun RowScope.ScreenSelectButton(</ins><ins>    currentScreen: Screen,</ins><ins>    targetScreen: Screen,</ins><ins>    imageVector: ImageVector,</ins><ins>    @StringRes labelId: Int,</ins><ins>    onSelectListScreen: (Screen) -&gt; Unit,</ins><ins>) =</ins><ins>    NavigationBarItem(</ins><ins>        selected = currentScreen == targetScreen,</ins><ins>        icon = {</ins><ins>            Icon(</ins><ins>                imageVector = imageVector,</ins><ins>                contentDescription = stringResource(id = labelId)</ins><ins>            )</ins><ins>        },</ins><ins>        label = {</ins><ins>            Text(text = stringResource(id = labelId))</ins><ins>        },</ins><ins>        onClick = {</ins><ins>            onSelectListScreen(targetScreen)</ins><ins>        }</ins><ins>    )</ins></div></pre>
</div>
</div>
</details>
<details class="success" open>
<summary>ADDED: /app/src/main/java/com/androidbyexample/movie/screens/ActorDisplayUi.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/androidbyexample/movie/screens/ActorDisplayUi.kt';">
<div class='sas1-code-block'>
<pre><ins>package com.androidbyexample.movie.screens</ins><ins></ins><ins>import androidx.compose.foundation.layout.Column</ins><ins>import androidx.compose.foundation.layout.padding</ins><ins>import androidx.compose.material3.ExperimentalMaterial3Api</ins><ins>import androidx.compose.material3.Scaffold</ins><ins>import androidx.compose.material3.Text</ins><ins>import androidx.compose.material3.TopAppBar</ins><ins>import androidx.compose.runtime.Composable</ins><ins>import androidx.compose.runtime.LaunchedEffect</ins><ins>import androidx.compose.runtime.getValue</ins><ins>import androidx.compose.runtime.mutableStateOf</ins><ins>import androidx.compose.runtime.remember</ins><ins>import androidx.compose.runtime.setValue</ins><ins>import androidx.compose.ui.Modifier</ins><ins>import androidx.compose.ui.res.stringResource</ins><ins>import com.androidbyexample.movie.R</ins><ins>import com.androidbyexample.movie.components.Display</ins><ins>import com.androidbyexample.movie.components.Label</ins><ins>import com.androidbyexample.movie.repository.ActorWithFilmographyDto</ins><ins>import com.androidbyexample.movie.repository.MovieDto</ins><ins>import kotlinx.coroutines.Dispatchers</ins><ins>import kotlinx.coroutines.withContext</ins><ins></ins><div id="070-actor-display"><ins>@OptIn(ExperimentalMaterial3Api::class)</ins><ins>@Composable</ins><ins>fun ActorDisplayUi(</ins><ins>    id: String,</ins><ins>    fetchActor: suspend (String) -&gt; ActorWithFilmographyDto,</ins><ins>    onMovieClicked: (MovieDto) -&gt; Unit,</ins><ins>) {</ins><ins>    var actorWithFilmography by remember { mutableStateOf&lt;ActorWithFilmographyDto?&gt;(null) }</ins><ins>    LaunchedEffect(key1 = id) {</ins><ins>        withContext(Dispatchers.IO) {</ins><ins>            actorWithFilmography = fetchActor(id)</ins><ins>        }</ins><ins>    }</ins><ins>    Scaffold(</ins><ins>        topBar = {</ins><ins>            TopAppBar(</ins><ins>                title = {</ins><ins>                    Text(text = actorWithFilmography?.actor?.name ?: stringResource(R.string.loading))</ins><ins>                }</ins><ins>            )</ins><ins>        }</ins><ins>    ) { paddingValues -&gt;</ins><ins>        actorWithFilmography?.let { actorWithFilmography -&gt;</ins><ins>            Column(</ins><ins>                modifier = Modifier</ins><ins>                    .padding(paddingValues)</ins><ins>            ) {</ins><ins>                Label(textId = R.string.name)</ins><ins>                Display(text = actorWithFilmography.actor.name)</ins><ins>                Label(</ins><ins>                    text = stringResource(</ins><ins>                        id = R.string.movies_starring,</ins><ins>                        actorWithFilmography.actor.name</ins><ins>                    )</ins><ins>                )</ins><ins></ins><ins>                List(</ins><ins>                    items = actorWithFilmography.filmography.sortedBy { it.movie.title },</ins><ins>                    onItemClicked = { onMovieClicked(it.movie) },</ins><ins>                    selectedIds = emptySet(),</ins><ins>                    onSelectionToggle = {},</ins><ins>                    onClearSelections = {},</ins><ins>                    modifier = Modifier.weight(1f)</ins><ins>                ) { role -&gt;</ins><ins>                    Display(text = role.movie.title)</ins><ins>                }</ins><ins>            }</ins><ins>        }</ins><ins>    }</ins><ins>}</ins></div></pre>
</div>
</div>
</details>
<details class="success" open>
<summary>ADDED: /app/src/main/java/com/androidbyexample/movie/screens/ActorListUi.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/androidbyexample/movie/screens/ActorListUi.kt';">
<div class='sas1-code-block'>
<pre><ins>package com.androidbyexample.movie.screens</ins><ins></ins><ins>import androidx.compose.foundation.clickable</ins><ins>import androidx.compose.foundation.layout.Row</ins><ins>import androidx.compose.foundation.layout.padding</ins><ins>import androidx.compose.material.icons.Icons</ins><ins>import androidx.compose.material.icons.filled.Person</ins><ins>import androidx.compose.material.icons.filled.Star</ins><ins>import androidx.compose.material3.Icon</ins><ins>import androidx.compose.runtime.Composable</ins><ins>import androidx.compose.ui.Alignment</ins><ins>import androidx.compose.ui.Modifier</ins><ins>import androidx.compose.ui.res.stringResource</ins><ins>import androidx.compose.ui.unit.dp</ins><ins>import com.androidbyexample.movie.R</ins><ins>import com.androidbyexample.movie.components.Display</ins><ins>import com.androidbyexample.movie.repository.ActorDto</ins><ins></ins><div id="070-actor-list"><ins>@Composable</ins><ins>fun ActorListUi(</ins><ins>    actors: List&lt;ActorDto&gt;,</ins><ins>    onActorClicked: (ActorDto) -&gt; Unit,</ins><ins></ins><ins>    selectedIds: Set&lt;String&gt;,</ins><ins>    onSelectionToggle: (id: String) -&gt; Unit,</ins><ins>    onClearSelections: () -&gt; Unit,</ins><ins>    onDeleteSelectedActors: () -&gt; Unit,</ins><ins></ins><ins>    currentScreen: Screen,</ins><ins>    onSelectListScreen: (Screen) -&gt; Unit,</ins><ins></ins><ins>    onResetDatabase: () -&gt; Unit,</ins><ins>) {</ins><ins>    ListScaffold(</ins><ins>        titleId = R.string.actors,</ins><ins>        items = actors,</ins><ins>        onItemClicked = onActorClicked,</ins><ins>        selectedIds = selectedIds,</ins><ins>        onSelectionToggle = onSelectionToggle,</ins><ins>        onClearSelections = onClearSelections,</ins><ins>        onDeleteSelectedItems = onDeleteSelectedActors,</ins><ins>        currentScreen = currentScreen,</ins><ins>        onSelectListScreen = onSelectListScreen,</ins><ins>        onResetDatabase = onResetDatabase</ins><ins>    ) { actor -&gt;</ins><ins>        Row(</ins><ins>            verticalAlignment = Alignment.CenterVertically,</ins><ins>            modifier = Modifier.padding(8.dp)</ins><ins>        ) {</ins><ins>            Icon(</ins><ins>                imageVector = Icons.Default.Person,</ins><ins>                contentDescription = stringResource(id = R.string.actor),</ins><ins>                modifier = Modifier.clickable {</ins><ins>                    onSelectionToggle(actor.id)</ins><ins>                }</ins><ins>            )</ins><ins>            Display(text = actor.name)</ins><ins>        }</ins><ins>    }</ins><ins>}</ins></div></pre>
</div>
</div>
</details>
<details class="success" open>
<summary>ADDED: /app/src/main/java/com/androidbyexample/movie/screens/ListScaffold.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/androidbyexample/movie/screens/ListScaffold.kt';">
<div class='sas1-code-block'>
<pre><ins>package com.androidbyexample.movie.screens</ins><ins></ins><ins>import androidx.annotation.StringRes</ins><ins>import androidx.compose.foundation.clickable</ins><ins>import androidx.compose.foundation.layout.ColumnScope</ins><ins>import androidx.compose.foundation.layout.fillMaxSize</ins><ins>import androidx.compose.foundation.layout.padding</ins><ins>import androidx.compose.material.icons.Icons</ins><ins>import androidx.compose.material.icons.filled.ArrowBack</ins><ins>import androidx.compose.material.icons.filled.Delete</ins><ins>import androidx.compose.material.icons.filled.Person</ins><ins>import androidx.compose.material.icons.filled.Refresh</ins><ins>import androidx.compose.material.icons.filled.Star</ins><ins>import androidx.compose.material3.ExperimentalMaterial3Api</ins><ins>import androidx.compose.material3.Icon</ins><ins>import androidx.compose.material3.IconButton</ins><ins>import androidx.compose.material3.NavigationBar</ins><ins>import androidx.compose.material3.Scaffold</ins><ins>import androidx.compose.material3.Text</ins><ins>import androidx.compose.material3.TopAppBar</ins><ins>import androidx.compose.runtime.Composable</ins><ins>import androidx.compose.ui.Modifier</ins><ins>import androidx.compose.ui.res.stringResource</ins><ins>import androidx.compose.ui.unit.dp</ins><ins>import com.androidbyexample.movie.R</ins><ins>import com.androidbyexample.movie.components.ScreenSelectButton</ins><ins>import com.androidbyexample.movie.repository.HasId</ins><ins></ins><div id="070-list-scaffold"><ins>@OptIn(ExperimentalMaterial3Api::class)</ins><ins>@Composable</ins><ins>fun &lt;T: HasId&gt; ListScaffold(</ins><ins>    @StringRes titleId: Int,</ins><ins>    items: List&lt;T&gt;,</ins><ins>    onItemClicked: (T) -&gt; Unit,</ins><ins></ins><ins>    selectedIds: Set&lt;String&gt;,</ins><ins>    onSelectionToggle: (id: String) -&gt; Unit,</ins><ins>    onClearSelections: () -&gt; Unit,</ins><ins>    onDeleteSelectedItems: () -&gt; Unit,</ins><ins></ins><ins>    currentScreen: Screen,</ins><ins>    onSelectListScreen: (Screen) -&gt; Unit,</ins><ins></ins><ins>    onResetDatabase: () -&gt; Unit,</ins><ins></ins><ins>    itemContent: @Composable ColumnScope.(T) -&gt; Unit,</ins><ins>) {</ins><ins>    Scaffold(</ins><ins>        topBar = {</ins><ins>            if (selectedIds.isEmpty()) {</ins><ins>                TopAppBar(</ins><ins>                    title = { Text(text = stringResource(titleId)) },</ins><ins>                    actions = {</ins><ins>                        IconButton(onClick = onResetDatabase) {</ins><ins>                            Icon(</ins><ins>                                imageVector = Icons.Default.Refresh,</ins><ins>                                contentDescription = stringResource(R.string.reset_database)</ins><ins>                            )</ins><ins>                        }</ins><ins>                    }</ins><ins>                )</ins><ins>            } else {</ins><ins>                TopAppBar(</ins><ins>                    navigationIcon = {</ins><ins>                        Icon(</ins><ins>                            imageVector = Icons.Default.ArrowBack,</ins><ins>                            contentDescription = stringResource(R.string.clear_selections),</ins><ins>                            modifier = Modifier.clickable(onClick = onClearSelections),</ins><ins>                        )</ins><ins>                    },</ins><ins>                    title = { Text(text = selectedIds.size.toString(), modifier = Modifier.padding(8.dp)) },</ins><ins>                    actions = {</ins><ins>                        IconButton(onClick = onDeleteSelectedItems) {</ins><ins>                            Icon(</ins><ins>                                imageVector = Icons.Default.Delete,</ins><ins>                                contentDescription = stringResource(R.string.delete_selected_items)</ins><ins>                            )</ins><ins>                        }</ins><ins>                    },</ins><ins>                )</ins><ins>            }</ins><ins>        },</ins><div id="070-nav-bar"><ins>        bottomBar = {</ins><ins>            NavigationBar {</ins><ins>                ScreenSelectButton(</ins><ins>                    targetScreen = RatingList,</ins><ins>                    imageVector = Icons.Default.Star,</ins><ins>                    labelId = R.string.ratings,</ins><ins>                    currentScreen = currentScreen,</ins><ins>                    onSelectListScreen = onSelectListScreen</ins><ins>                )</ins><ins>                ScreenSelectButton(</ins><ins>                    targetScreen = MovieList,</ins><ins>                    imageVector = Icons.Default.Star,</ins><ins>                    labelId = R.string.movies,</ins><ins>                    currentScreen = currentScreen,</ins><ins>                    onSelectListScreen = onSelectListScreen</ins><ins>                )</ins><ins>                ScreenSelectButton(</ins><ins>                    targetScreen = ActorList,</ins><ins>                    imageVector = Icons.Default.Person,</ins><ins>                    labelId = R.string.actors,</ins><ins>                    currentScreen = currentScreen,</ins><ins>                    onSelectListScreen = onSelectListScreen</ins><ins>                )</ins><ins>            }</ins><ins>        },</ins></div><ins>        modifier = Modifier.fillMaxSize()</ins><ins>    ) { paddingValues -&gt;</ins><ins>        List(</ins><ins>            items = items,</ins><ins>            onItemClicked = onItemClicked,</ins><ins>            selectedIds = selectedIds,</ins><ins>            onSelectionToggle = onSelectionToggle,</ins><ins>            onClearSelections = onClearSelections,</ins><ins>            modifier = Modifier</ins><ins>                .padding(paddingValues)</ins><ins>                .fillMaxSize(),</ins><ins>            itemContent = itemContent,</ins><ins>        )</ins><ins>    }</ins><ins>}</ins></div></pre>
</div>
</div>
</details>
<details class="example" open>
<summary>CHANGED: /app/src/main/java/com/androidbyexample/movie/screens/MovieListUi.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/androidbyexample/movie/screens/MovieListUi.kt';">
<div class='sas1-code-block'>
<pre>package com.androidbyexample.movie.screens

import androidx.compose.foundation.clickable
import androidx.compose.foundation.layout.Row
<del>//import androidx.compose.foundation.layout.fillMaxSize</del>import androidx.compose.foundation.layout.padding
import androidx.compose.material.icons.Icons
<del>//import androidx.compose.material.icons.filled.ArrowBack</del><del>//import androidx.compose.material.icons.filled.Delete</del><del>//import androidx.compose.material.icons.filled.Refresh</del>import androidx.compose.material.icons.filled.Star
<del>//import androidx.compose.material3.ExperimentalMaterial3Api</del>import androidx.compose.material3.Icon
<del>//import androidx.compose.material3.IconButton</del><del>//import androidx.compose.material3.Scaffold</del><del>//import androidx.compose.material3.Text</del><del>//import androidx.compose.material3.TopAppBar</del>import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.res.stringResource
import androidx.compose.ui.unit.dp
import com.androidbyexample.movie.R
import com.androidbyexample.movie.components.Display
import com.androidbyexample.movie.repository.MovieDto

<del>//@OptIn(ExperimentalMaterial3Api::class)</del>@Composable
fun MovieListUi(
    movies: List&lt;MovieDto&gt;,
    onMovieClicked: (MovieDto) -&gt; Unit,

    selectedIds: Set&lt;String&gt;,
    onSelectionToggle: (id: String) -&gt; Unit,
    onClearSelections: () -&gt; Unit,
    onDeleteSelectedMovies: () -&gt; Unit,

<ins>    currentScreen: Screen,</ins><ins>    onSelectListScreen: (Screen) -&gt; Unit,</ins><ins></ins>    onResetDatabase: () -&gt; Unit,
) {
<div id="070-movie-list-using-list-scaffold"><del>//  Scaffold(</del><del>//      topBar = {</del><del>//          if (selectedIds.isEmpty()) {</del><del>//              TopAppBar(</del><del>//                  title = { Text(text = stringResource(R.string.movies)) },</del><del>//                  actions = {</del><del>//                      IconButton(onClick = onResetDatabase) {</del><del>//                          Icon(</del><del>//                              imageVector = Icons.Default.Refresh,</del><del>//                              contentDescription = stringResource(R.string.reset_database)</del><del>//                          )</del><del>//                      }</del><del>//                  }</del><del>//              )</del><del>//          } else {</del><del>//              TopAppBar(</del><del>//                  navigationIcon = {</del><del>//                      Icon(</del><del>//                          imageVector = Icons.Default.ArrowBack,</del><del>//                          contentDescription = stringResource(R.string.clear_selections),</del><del>//                          modifier = Modifier.clickable(onClick = onClearSelections),</del><del>//                      )</del><del>//                  },</del><del>//                  title = { Text(text = selectedIds.size.toString(), modifier = Modifier.padding(8.dp)) },</del><del>//                  actions = {</del><del>//                      IconButton(onClick = onDeleteSelectedMovies) {</del><del>//                          Icon(</del><del>//                              imageVector = Icons.Default.Delete,</del><del>//                              contentDescription = stringResource(R.string.delete_selected_items)</del><del>//                          )</del><del>//                      }</del><del>//                  },</del><del>//              )</del><del>//          }</del><del>//      },</del><del>//      modifier = Modifier.fillMaxSize()</del><del>//  ) { paddingValues -&gt;</del><del>//      List(</del><ins>    ListScaffold(</ins><ins>        titleId = R.string.movies,</ins>        items = movies,
        onItemClicked = onMovieClicked,
        selectedIds = selectedIds,
        onSelectionToggle = onSelectionToggle,
        onClearSelections = onClearSelections,
<del>//          modifier = Modifier</del><del>//              .padding(paddingValues)</del><del>//              .fillMaxSize()</del><ins>        onDeleteSelectedItems = onDeleteSelectedMovies,</ins><ins>        currentScreen = currentScreen,</ins><ins>        onSelectListScreen = onSelectListScreen,</ins><ins>        onResetDatabase = onResetDatabase</ins>    ) { movie -&gt;
        Row(
            verticalAlignment = Alignment.CenterVertically,
            modifier = Modifier.padding(8.dp)
        ) {
            Icon(
                imageVector = Icons.Default.Star,
                contentDescription = stringResource(id = R.string.movie),
                modifier = Modifier.clickable {
                    onSelectionToggle(movie.id)
                }
            )
            Display(text = movie.title)
        }
    }
</div><del>//  }</del>}
</pre>
</div>
</div>
</details>
<details class="success" open>
<summary>ADDED: /app/src/main/java/com/androidbyexample/movie/screens/RatingDisplayUi.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/androidbyexample/movie/screens/RatingDisplayUi.kt';">
<div class='sas1-code-block'>
<pre><ins>package com.androidbyexample.movie.screens</ins><ins></ins><ins>import androidx.compose.foundation.layout.Column</ins><ins>import androidx.compose.foundation.layout.padding</ins><ins>import androidx.compose.material3.ExperimentalMaterial3Api</ins><ins>import androidx.compose.material3.Scaffold</ins><ins>import androidx.compose.material3.Text</ins><ins>import androidx.compose.material3.TopAppBar</ins><ins>import androidx.compose.runtime.Composable</ins><ins>import androidx.compose.runtime.LaunchedEffect</ins><ins>import androidx.compose.runtime.getValue</ins><ins>import androidx.compose.runtime.mutableStateOf</ins><ins>import androidx.compose.runtime.remember</ins><ins>import androidx.compose.runtime.setValue</ins><ins>import androidx.compose.ui.Modifier</ins><ins>import androidx.compose.ui.res.stringResource</ins><ins>import com.androidbyexample.movie.R</ins><ins>import com.androidbyexample.movie.components.Display</ins><ins>import com.androidbyexample.movie.components.Label</ins><ins>import com.androidbyexample.movie.repository.MovieDto</ins><ins>import com.androidbyexample.movie.repository.RatingWithMoviesDto</ins><ins>import kotlinx.coroutines.Dispatchers</ins><ins>import kotlinx.coroutines.withContext</ins><ins></ins><div id="070-rating-display"><ins>@OptIn(ExperimentalMaterial3Api::class)</ins><ins>@Composable</ins><ins>fun RatingDisplayUi(</ins><ins>    id: String,</ins><ins>    fetchRating: suspend (String) -&gt; RatingWithMoviesDto,</ins><ins>    onMovieClicked: (MovieDto) -&gt; Unit,</ins><ins>) {</ins><ins>    var ratingWithMovies by remember { mutableStateOf&lt;RatingWithMoviesDto?&gt;(null) }</ins><ins>    LaunchedEffect(key1 = id) {</ins><ins>        withContext(Dispatchers.IO) {</ins><ins>            ratingWithMovies = fetchRating(id)</ins><ins>        }</ins><ins>    }</ins><ins>    Scaffold(</ins><ins>        topBar = {</ins><ins>            TopAppBar(</ins><ins>                title = {</ins><ins>                    Text(text = ratingWithMovies?.rating?.name ?: stringResource(R.string.loading))</ins><ins>                }</ins><ins>            )</ins><ins>        }</ins><ins>    ) { paddingValues -&gt;</ins><ins>        ratingWithMovies?.let { ratingWithMovies -&gt;</ins><ins>            Column(</ins><ins>                modifier = Modifier</ins><ins>                    .padding(paddingValues)</ins><ins>            ) {</ins><ins>                Label(textId = R.string.name)</ins><ins>                Display(text = ratingWithMovies.rating.name)</ins><ins>                Label(textId = R.string.description)</ins><ins>                Display(text = ratingWithMovies.rating.description)</ins><ins>                Label(</ins><ins>                    text = stringResource(</ins><ins>                        id = R.string.movies_rated,</ins><ins>                        ratingWithMovies.rating.name</ins><ins>                    )</ins><ins>                )</ins><ins></ins><ins>                List(</ins><ins>                    items = ratingWithMovies.movies.sortedBy { it.title },</ins><ins>                    onItemClicked = onMovieClicked,</ins><ins>                    selectedIds = emptySet(),</ins><ins>                    onSelectionToggle = {},</ins><ins>                    onClearSelections = {},</ins><ins>                    modifier = Modifier.weight(1f)</ins><ins>                ) { movie -&gt;</ins><ins>                    Display(</ins><ins>                        text = movie.title</ins><ins>                    )</ins><ins>                }</ins><ins>            }</ins><ins>        }</ins><ins>    }</ins><ins>}</ins></div></pre>
</div>
</div>
</details>
<details class="success" open>
<summary>ADDED: /app/src/main/java/com/androidbyexample/movie/screens/RatingListUi.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/androidbyexample/movie/screens/RatingListUi.kt';">
<div class='sas1-code-block'>
<pre><ins>package com.androidbyexample.movie.screens</ins><ins></ins><ins>import androidx.compose.foundation.clickable</ins><ins>import androidx.compose.foundation.layout.Row</ins><ins>import androidx.compose.foundation.layout.padding</ins><ins>import androidx.compose.material.icons.Icons</ins><ins>import androidx.compose.material.icons.filled.Star</ins><ins>import androidx.compose.material3.Icon</ins><ins>import androidx.compose.runtime.Composable</ins><ins>import androidx.compose.ui.Alignment</ins><ins>import androidx.compose.ui.Modifier</ins><ins>import androidx.compose.ui.res.stringResource</ins><ins>import androidx.compose.ui.unit.dp</ins><ins>import com.androidbyexample.movie.R</ins><ins>import com.androidbyexample.movie.components.Display</ins><ins>import com.androidbyexample.movie.repository.RatingDto</ins><ins></ins><div id="070-rating-list"><ins>@Composable</ins><ins>fun RatingListUi(</ins><ins>    ratings: List&lt;RatingDto&gt;,</ins><ins>    onRatingClicked: (RatingDto) -&gt; Unit,</ins><ins></ins><ins>    selectedIds: Set&lt;String&gt;,</ins><ins>    onSelectionToggle: (id: String) -&gt; Unit,</ins><ins>    onClearSelections: () -&gt; Unit,</ins><ins>    onDeleteSelectedRatings: () -&gt; Unit,</ins><ins></ins><ins>    currentScreen: Screen,</ins><ins>    onSelectListScreen: (Screen) -&gt; Unit,</ins><ins></ins><ins>    onResetDatabase: () -&gt; Unit,</ins><ins>) {</ins><ins>    ListScaffold(</ins><ins>        titleId = R.string.ratings,</ins><ins>        items = ratings,</ins><ins>        onItemClicked = onRatingClicked,</ins><ins>        selectedIds = selectedIds,</ins><ins>        onSelectionToggle = onSelectionToggle,</ins><ins>        onClearSelections = onClearSelections,</ins><ins>        onDeleteSelectedItems = onDeleteSelectedRatings,</ins><ins>        currentScreen = currentScreen,</ins><ins>        onSelectListScreen = onSelectListScreen,</ins><ins>        onResetDatabase = onResetDatabase</ins><ins>    ) { rating -&gt;</ins><ins>        Row(</ins><ins>            verticalAlignment = Alignment.CenterVertically,</ins><ins>            modifier = Modifier.padding(8.dp)</ins><ins>        ) {</ins><ins>            Icon(</ins><ins>                imageVector = Icons.Default.Star,</ins><ins>                contentDescription = stringResource(id = R.string.rating),</ins><ins>                modifier = Modifier.clickable {</ins><ins>                    onSelectionToggle(rating.id)</ins><ins>                }</ins><ins>            )</ins><ins>            Display(text = rating.name)</ins><ins>        }</ins><ins>    }</ins><ins>}</ins></div></pre>
</div>
</div>
</details>
<details class="example" open>
<summary>CHANGED: /app/src/main/java/com/androidbyexample/movie/screens/Screens.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/androidbyexample/movie/screens/Screens.kt';">
<div class='sas1-code-block'>
<pre>package com.androidbyexample.movie.screens

sealed interface Screen

<div id="070-new-screens">object MovieList: Screen
<ins>object ActorList: Screen</ins><ins>object RatingList: Screen</ins>data class MovieDisplay(val id: String): Screen
<ins>data class ActorDisplay(val id: String): Screen</ins><ins>data class RatingDisplay(val id: String): Screen</ins></div></pre>
</div>
</div>
</details>
<details class="example" open>
<summary>CHANGED: /app/src/main/java/com/androidbyexample/movie/screens/Ui.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/java/com/androidbyexample/movie/screens/Ui.kt';">
<div class='sas1-code-block'>
<pre>package com.androidbyexample.movie.screens

import androidx.activity.compose.BackHandler
import androidx.compose.runtime.Composable
import androidx.compose.runtime.getValue
import androidx.compose.runtime.rememberCoroutineScope
import androidx.lifecycle.compose.collectAsStateWithLifecycle
import com.androidbyexample.movie.MovieViewModel
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.launch

@Composable
fun Ui(
    viewModel: MovieViewModel,
    onExit: () -&gt; Unit,
) {
    BackHandler {
        viewModel.popScreen()
    }

    val scope = rememberCoroutineScope()

    when (val screen = viewModel.currentScreen) {
        null -&gt; onExit()
        is MovieDisplay -&gt; {
            MovieDisplayUi(
                id = screen.id,
                fetchMovie = viewModel::getMovieWithCast,
<div id="060-empty-actor-nav"><del>//              onActorClicked = { }</del><ins>                onActorClicked = { viewModel.pushScreen(ActorDisplay(it.actor.id)) }</ins></div>            )
        }
<div id="070-new-displays"><ins>        is ActorDisplay -&gt; {</ins><ins>            ActorDisplayUi(</ins><ins>                id = screen.id,</ins><ins>                fetchActor = viewModel::getActorWithFilmography,</ins><ins>                onMovieClicked = { viewModel.pushScreen(MovieDisplay(it.id)) }</ins><ins>            )</ins><ins>        }</ins><ins>        is RatingDisplay -&gt; {</ins><ins>            RatingDisplayUi(</ins><ins>                id = screen.id,</ins><ins>                fetchRating = viewModel::getRatingWithMovies,</ins><ins>                onMovieClicked = { viewModel.pushScreen(MovieDisplay(it.id)) }</ins><ins>            )</ins><ins>        }</ins></div>        MovieList -&gt; {
            val movies by viewModel.moviesFlow.collectAsStateWithLifecycle(initialValue = emptyList())
<div id="040-collect-selection">            val selectedIds by viewModel.selectedIdsFlow.collectAsStateWithLifecycle(initialValue = emptySet())
</div>            MovieListUi(
                movies = movies,
                onMovieClicked = { movie -&gt;
                    viewModel.pushScreen(MovieDisplay(movie.id))
                },
<div id="040-new-parameters">                selectedIds = selectedIds,
                onClearSelections = viewModel::clearSelectedIds,
                onSelectionToggle = viewModel::toggleSelection,
<div id="050-ui-delete">                onDeleteSelectedMovies = viewModel::deleteSelectedMovies,
</div></div><div id="070-extra-params"><ins>                currentScreen = screen,</ins><ins>                onSelectListScreen = viewModel::setScreen,</ins></div>                onResetDatabase = {
                    scope.launch(Dispatchers.IO) {
                        viewModel.resetDatabase()
                    }
                }
            )
        }
<div id="070-new-lists"><ins>        ActorList -&gt; {</ins><ins>            val actors by viewModel.actorsFlow.collectAsStateWithLifecycle(initialValue = emptyList())</ins><ins>            val selectedIds by viewModel.selectedIdsFlow.collectAsStateWithLifecycle(initialValue = emptySet())</ins><ins>            ActorListUi(</ins><ins>                actors = actors,</ins><ins>                onActorClicked = { actor -&gt;</ins><ins>                    viewModel.pushScreen(ActorDisplay(actor.id))</ins><ins>                },</ins><ins>                selectedIds = selectedIds,</ins><ins>                onClearSelections = viewModel::clearSelectedIds,</ins><ins>                onSelectionToggle = viewModel::toggleSelection,</ins><ins>                onDeleteSelectedActors = viewModel::deleteSelectedActors,</ins><ins>                currentScreen = screen,</ins><ins>                onSelectListScreen = viewModel::setScreen,</ins><ins>                onResetDatabase = {</ins><ins>                    scope.launch(Dispatchers.IO) {</ins><ins>                        viewModel.resetDatabase()</ins><ins>                    }</ins><ins>                }</ins><ins>            )</ins><ins>        }</ins><ins>        RatingList -&gt; {</ins><ins>            val ratings by viewModel.ratingsFlow.collectAsStateWithLifecycle(initialValue = emptyList())</ins><ins>            val selectedIds by viewModel.selectedIdsFlow.collectAsStateWithLifecycle(initialValue = emptySet())</ins><ins>            RatingListUi(</ins><ins>                ratings = ratings,</ins><ins>                onRatingClicked = { rating -&gt;</ins><ins>                    viewModel.pushScreen(RatingDisplay(rating.id))</ins><ins>                },</ins><ins>                selectedIds = selectedIds,</ins><ins>                onClearSelections = viewModel::clearSelectedIds,</ins><ins>                onSelectionToggle = viewModel::toggleSelection,</ins><ins>                onDeleteSelectedRatings = viewModel::deleteSelectedRatings,</ins><ins>                currentScreen = screen,</ins><ins>                onSelectListScreen = viewModel::setScreen,</ins><ins>                onResetDatabase = {</ins><ins>                    scope.launch(Dispatchers.IO) {</ins><ins>                        viewModel.resetDatabase()</ins><ins>                    }</ins><ins>                }</ins><ins>            )</ins><ins>        }</ins></div>    }
}
</pre>
</div>
</div>
</details>
<details class="example" open>
<summary>CHANGED: /app/src/main/res/values/strings.xml</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/app/src/main/res/values/strings.xml';">
<div class='sas1-code-block'>
<pre>&lt;resources&gt;
    &lt;string name=&quot;app_name&quot;&gt;MovieUi2&lt;/string&gt;
    &lt;string name=&quot;movies&quot;&gt;Movies&lt;/string&gt;
    &lt;string name=&quot;movie&quot;&gt;Movie&lt;/string&gt;
    &lt;string name=&quot;title&quot;&gt;Title&lt;/string&gt;
    &lt;string name=&quot;description&quot;&gt;Description&lt;/string&gt;
    &lt;string name=&quot;reset_database&quot;&gt;Reset Database&lt;/string&gt;
    &lt;string name=&quot;loading&quot;&gt;(loading)&lt;/string&gt;
    &lt;string name=&quot;cast&quot;&gt;Cast&lt;/string&gt;
    &lt;string name=&quot;cast_entry&quot;&gt;%1$s: %2$s&lt;/string&gt;
<div id="050-contextual-action-text">    &lt;string name=&quot;clear_selections&quot;&gt;Clear Selections&lt;/string&gt;
    &lt;string name=&quot;delete_selected_items&quot;&gt;Delete selected items&lt;/string&gt;
</div><div id="070-new-screen-text"><ins>    &lt;string name=&quot;ratings&quot;&gt;Ratings&lt;/string&gt;</ins><ins>    &lt;string name=&quot;rating&quot;&gt;Rating&lt;/string&gt;</ins><ins>    &lt;string name=&quot;actors&quot;&gt;Actors&lt;/string&gt;</ins><ins>    &lt;string name=&quot;actor&quot;&gt;Actor&lt;/string&gt;</ins><ins>    &lt;string name=&quot;name&quot;&gt;Name&lt;/string&gt;</ins><ins>    &lt;string name=&quot;movies_rated&quot;&gt;Movies rated %1$s&lt;/string&gt;</ins><ins>    &lt;string name=&quot;movies_starring&quot;&gt;Movies starring %1$s&lt;/string&gt;</ins></div>&lt;/resources&gt;
</pre>
</div>
</div>
</details>
<details class="example" open>
<summary>CHANGED: /repository/src/main/java/com/androidbyexample/movie/repository/ActorDto.kt</summary>
<div class="sas1-code-file" style="--sas1-file-name: '/repository/src/main/java/com/androidbyexample/movie/repository/ActorDto.kt';">
<div class='sas1-code-block'>
<pre>package com.androidbyexample.movie.repository

import com.androidbyexample.movie.data.ActorEntity
import com.androidbyexample.movie.data.ActorWithFilmography
import com.androidbyexample.movie.data.RoleWithMovie

<div id="060-actor-has-id">data class ActorDto(
    override val id: String,
    val name: String,
): HasId
</div>
internal fun ActorEntity.toDto() =
    ActorDto(id = id, name = name)
internal fun ActorDto.toEntity() =
    ActorEntity(id = id, name = name)

data class ActorWithFilmographyDto(
    val actor: ActorDto,
    val filmography: List&lt;RoleWithMovieDto&gt;,
)

data class RoleWithMovieDto(
    val movie: MovieDto,
    val character: String,
    val orderInCredits: Int,
<del>//)</del><ins>): HasId {</ins><ins>    override val id: String</ins><ins>        get() = &quot;${movie.id}:$character&quot;</ins><ins>}</ins>
internal fun RoleWithMovie.toDto() =
    RoleWithMovieDto(
        movie = movie.toDto(),
        character = role.character,
        orderInCredits = role.orderInCredits,
    )

internal fun ActorWithFilmography.toDto() =
    ActorWithFilmographyDto(
        actor = actor.toDto(),
        filmography =
        rolesWithMovies.map {
            it.toDto()
        }
    )
</pre>
</div>
</div>
</details>
  
</div>

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="" >
      
        
        <a href="STEP_060_REPO.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Refactor time!" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Refactor time!
            </div>
          </div>
        </a>
      
      <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
          <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023. Scott Stanchfield
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
          
        </div>
      </div>    
      
        
        <a href="STEP_080_REPO.html" class="md-footer__link md-footer__link--next" aria-label="Next: Better Movie Icon" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Better Movie Icon
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "navigation.sections", "search.suggest", "search.highlight", "navigation.instant", "content.tabs.link", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>